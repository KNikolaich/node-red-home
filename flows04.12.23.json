[
    {
        "id": "28d207931314f7b9",
        "type": "tab",
        "label": "Внешние пар-ры",
        "disabled": false,
        "locked": true,
        "info": "",
        "env": []
    },
    {
        "id": "1b1750f2d5c4d92c",
        "type": "tab",
        "label": "Home Dashbrd",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "69390556a5a91fee",
        "type": "tab",
        "label": "читаем t°",
        "disabled": false,
        "info": "",
        "env": [
            {
                "name": "oldTempBorrel",
                "value": "0",
                "type": "num"
            }
        ]
    },
    {
        "id": "689525d2b0418bc9",
        "type": "tab",
        "label": "Properties",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "acc838421a0cef87",
        "type": "tab",
        "label": "Логика",
        "disabled": false,
        "info": "switcher \"клапан отбора\"\r\nswitcher \"подогрев плитки\"\r\nswitcher \"подача воды\"",
        "env": [
            {
                "name": "automaticKlpn",
                "value": "2",
                "type": "num"
            },
            {
                "name": "nodeToSelection",
                "value": "26",
                "type": "str"
            }
        ]
    },
    {
        "id": "bf0b31ad452185bc",
        "type": "tab",
        "label": "oled GPIO hardware",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "3e878d680ba10599",
        "type": "tab",
        "label": "Telega bot & ThingSpeaker",
        "disabled": false,
        "info": "### **TG**\r\n882717145:AAF1MVrSLrdpnfSBdwK7edHneEs_4iIlAZo\r\n\r\n### **ThinkSpeak**\r\nHCU31ZZ46IGGF47S",
        "env": []
    },
    {
        "id": "e49fdc6477b4b147",
        "type": "tab",
        "label": "Тесты",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "9bdc2ffae08abcfc",
        "type": "tab",
        "label": "Scripts Create",
        "disabled": false,
        "info": "Запиливаем нужные скрипты на диск",
        "env": []
    },
    {
        "id": "36177ecb99d80bd9",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "name": "Демо возможностей",
        "style": {
            "label": true,
            "color": "#000000"
        },
        "nodes": [
            "4ae37cbd5b043d72",
            "936252af3768eb24",
            "ac35aea012b892de",
            "13a4bb2ce26456e8",
            "00ddb4fda913481a",
            "7f2a9ef032898730",
            "b46cc6f140789827",
            "d8e1d6260fea6b1a",
            "e4cbe25ba19dee46",
            "3da681d564c2227b",
            "c0c23cdd744335f2",
            "755b5638a256dd79",
            "7a7eaeeac24bf523",
            "9a5606defb39dd49",
            "f0039e7ebb3ba50e",
            "8d4826f5f49d11ad",
            "f147d4803529bcad",
            "8e3bb2d96c6c3e73",
            "74052b3ed0a23627",
            "3e27ef798fbb72e7",
            "1002292268b279b5"
        ],
        "x": 34,
        "y": 759,
        "w": 1012,
        "h": 342
    },
    {
        "id": "90aaf5ad7d485022",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "name": "инициализация экранчика",
        "style": {
            "label": true
        },
        "nodes": [
            "682124b45f1a8f76",
            "471c8acc563365bf",
            "208d7cb9e935e59b",
            "2ae48499231d26ca",
            "7ac83452f350c4f1",
            "1dec2e625cc020c6",
            "1060d5b7611d3cc5",
            "79a8fae942883e24",
            "18dff773be947c01",
            "a87fba18193e3c17"
        ],
        "x": 54,
        "y": 19,
        "w": 652,
        "h": 257
    },
    {
        "id": "fc8b947fd3356d48",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "name": "Отображение строк и Wifi",
        "style": {
            "label": true
        },
        "nodes": [
            "22de7b1191839f21",
            "8144d31cbdf6d265",
            "7fc7623176d9a727",
            "3c597635fa7fedd8",
            "0f42fa1abf97ae19",
            "a8a8160a6ec5f72c",
            "7691671b0339d4be",
            "6d80fb234d2f7e37",
            "8944da124afd3937",
            "5836fa648bb9456c",
            "0784038efff1d22f",
            "250a90c82ad79535",
            "679a45032623f38e",
            "c6c6091668bce197",
            "e3c19435dc69006c"
        ],
        "x": 54,
        "y": 299,
        "w": 832,
        "h": 402
    },
    {
        "id": "badb192599326734",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "name": "Не работает в случае с моим экраном",
        "style": {
            "label": true
        },
        "nodes": [
            "786043206e2df144",
            "51984429dbf1fb8c",
            "5776395cdd888417",
            "417be58331edbc5d",
            "a414c5831af96fc8",
            "c373b526da23d731",
            "36934ae7f9982316",
            "069f558326551615",
            "126b9378898419f7"
        ],
        "x": 914,
        "y": 319,
        "w": 432,
        "h": 422
    },
    {
        "id": "c5d8b32adacb3df1",
        "type": "group",
        "z": "69390556a5a91fee",
        "name": "Цифровые датчики",
        "style": {
            "label": true
        },
        "nodes": [
            "321b9ce3e96c0e00",
            "10955eec2b13798a",
            "8ab4a8d978833a85",
            "f3db6f8821f81eeb",
            "247b176475dd290a",
            "42781cf5aebb38cc",
            "0f8e1cf435d9f059",
            "56a0451bf235f336",
            "c11697d25739f3c5"
        ],
        "x": 54,
        "y": 59,
        "w": 602,
        "h": 288
    },
    {
        "id": "c8f91c7ee8a66a9b",
        "type": "group",
        "z": "69390556a5a91fee",
        "name": "Отладочные функции",
        "style": {
            "label": true
        },
        "nodes": [
            "7976f91d43cad411",
            "5444de1928c03a79",
            "73a7185ef687f26e"
        ],
        "x": 44,
        "y": 419,
        "w": 412,
        "h": 122
    },
    {
        "id": "bb85908392c67a17",
        "type": "group",
        "z": "acc838421a0cef87",
        "name": "алгоритм работы реле в зависимости от входных данных с температурного датчика",
        "style": {
            "label": true
        },
        "nodes": [
            "6ffe9844abbbcc9e",
            "a8da10eb8d1383fc",
            "13577852fd374ce3",
            "c2c040f439cc0d06",
            "b0dfef8226e934e7",
            "aae7fe1311d70af5",
            "e7ddc64be73db460",
            "9261d1cfbed2c0b6",
            "11489c31ac6ded55"
        ],
        "x": 14,
        "y": 1239,
        "w": 1232,
        "h": 222
    },
    {
        "id": "39a31c26c77a7204",
        "type": "group",
        "z": "acc838421a0cef87",
        "name": "алгоритм работы реле в зависимости от входных данных с температурного датчика",
        "style": {
            "label": true
        },
        "nodes": [
            "905ce98cf08974d6",
            "74d4b944044df8e8",
            "2ebd7ee5ffd6b4b2",
            "a2bd41641f3f0235",
            "c684b898d61c37a1",
            "c80a603ba305f8b2",
            "9bc0442e76cdfafe",
            "3620c89addfedebb"
        ],
        "x": 174,
        "y": 1579,
        "w": 912,
        "h": 302
    },
    {
        "id": "da0733697f9501ac",
        "type": "group",
        "z": "28d207931314f7b9",
        "name": "Chart showing CPU load",
        "style": {
            "label": true
        },
        "nodes": [
            "f80a71c67433d813",
            "a72e8bf7641b8e0e",
            "ffe943f425d87c20",
            "685135b1ccfda9c9",
            "c18378e7b7261002",
            "4cb9d71b945797e5",
            "f2444ff5c9a01c14",
            "1d9888e7368e8c5d",
            "371de6bd2a00b759",
            "f915056fe7b871b2",
            "59b7e25002597016",
            "f04687f7ee08e032",
            "922e9836d04979c4",
            "d891a232b8af5c61",
            "1169f18d681bdd06",
            "c32a7373a0b762e5",
            "186cf7b1b9d1e580",
            "6241a90d8044b682"
        ],
        "x": 14,
        "y": 379,
        "w": 772,
        "h": 262
    },
    {
        "id": "d4d9b1f44c1f430a",
        "type": "group",
        "z": "9bdc2ffae08abcfc",
        "name": "команда вычленяет температуру sda диска, запуск bash команды",
        "style": {
            "label": true
        },
        "nodes": [
            "1df3aa5c6d8fdac0",
            "22876b2ba9effa8c",
            "0a8bc77c5f8e2ba2",
            "c75d80f9492902cc",
            "08cb2af1d4bb7c5a",
            "a9fa4f8571503560",
            "744f3ba9575a02b5",
            "034041a672da4ab0",
            "e09ac2aecd3a6ed0",
            "3f32ff5e2828d057",
            "5a65dc0f4ad35ffb"
        ],
        "x": 14,
        "y": 531.5,
        "w": 1132,
        "h": 317
    },
    {
        "id": "57b8d099c5189fa4",
        "type": "group",
        "z": "9bdc2ffae08abcfc",
        "style": {
            "stroke": "#999999",
            "stroke-opacity": "1",
            "fill": "none",
            "fill-opacity": "1",
            "label": true,
            "label-position": "nw",
            "color": "#a4a4a4"
        },
        "nodes": [
            "3129428bb9e877d5",
            "f139968f2383ade3",
            "df1587a40dd7af3b",
            "bff222604ade187f"
        ],
        "x": 54,
        "y": 119,
        "w": 752,
        "h": 122
    },
    {
        "id": "bb2c9fc74b3799c2",
        "type": "group",
        "z": "28d207931314f7b9",
        "name": "Данные диска и памяти",
        "style": {
            "label": true
        },
        "nodes": [
            "fcfe5eed1d61a371",
            "b58d1a81038c07a3",
            "1eb58897b269560c",
            "7913dbcdfaf46192",
            "4ee56a9da757df87",
            "28d6858b0d7b2d05",
            "8dbf409f9617748c",
            "66362bb068e22789"
        ],
        "x": 14,
        "y": 651.5,
        "w": 772,
        "h": 149.5
    },
    {
        "id": "ba596eb4ae6ad109",
        "type": "group",
        "z": "28d207931314f7b9",
        "name": "О системе памяти",
        "style": {
            "label": true
        },
        "nodes": [
            "ea81ad2e5376aab8",
            "bed9b959cc5c1cd7",
            "b5e0f118b45dbbeb",
            "7fb609b9c7b77ca0",
            "1fc277fe28ca5750",
            "f5c569918f4b1d1c",
            "f636e5b309313f9d",
            "5a6889750754288b"
        ],
        "x": 794,
        "y": 119,
        "w": 612,
        "h": 202
    },
    {
        "id": "34aa230d4576614f",
        "type": "group",
        "z": "28d207931314f7b9",
        "name": "Управление выключить/перезагрузить",
        "style": {
            "label": true
        },
        "nodes": [
            "5695173f661c8c88",
            "7b6611a4455b1265",
            "1ff736a9fd1728e4",
            "63fe53a5dd59ef4e",
            "d122d64cc32afeda",
            "8ec31f1eafb7a75b",
            "5c531c188346ac51",
            "11c72010ebfa13c9",
            "056455ec45b3a536",
            "cd49d3e3e06c8785",
            "c9f41decde5f6806",
            "bc304590379edb15",
            "1c1a34066bc54c97",
            "658106c7b8100682"
        ],
        "x": 794,
        "y": 339,
        "w": 632,
        "h": 402
    },
    {
        "id": "e1d07ebd1f92f5c7",
        "type": "group",
        "z": "28d207931314f7b9",
        "name": "Время и Uptime системы",
        "style": {
            "label": true
        },
        "nodes": [
            "94292ca4f9fe9a4e",
            "517c76db7a7fca56",
            "292047aa63301aea",
            "55a3b10004090ac6"
        ],
        "x": 794,
        "y": 19,
        "w": 612,
        "h": 82
    },
    {
        "id": "819a2e8044bb7c9e",
        "type": "group",
        "z": "28d207931314f7b9",
        "name": "Погодные условия ",
        "style": {
            "label": true
        },
        "nodes": [
            "2f8507cfb7cd8c40",
            "3fc766e609978c5b",
            "98312abe70645a8c",
            "e9e47041a4a3e02c",
            "20191da018f6775e",
            "c78d0557abcf6e93",
            "101cadb37dee5e5c",
            "a84e9da19962178d",
            "d7f22734704a5332",
            "c44a33aeb054ec5f",
            "610b93459e6ae454",
            "b0610e2f75029968",
            "085364e5ea78c6d1",
            "b94d6d39d58ab78b",
            "5456071bd730d390",
            "df3eec5f2605afae",
            "a09518702aa58e9d"
        ],
        "x": 14,
        "y": 19,
        "w": 772,
        "h": 322
    },
    {
        "id": "73c5870f75622fe0",
        "type": "group",
        "z": "69390556a5a91fee",
        "name": "Аналоговые датчики",
        "style": {
            "label": true
        },
        "nodes": [
            "bf2f7e9f52b48dd5",
            "297f52de14825c53",
            "22b1c2655377344a",
            "bfcc300f14676a78",
            "8ed55302a47e3aeb",
            "850b4cb49adb38c1",
            "fad6b9b31fae1d3b",
            "c295bb37b4536bee",
            "74ece3f8c8fd8eab",
            "eac209c032de65d0",
            "ad0c795142b92858",
            "68190e5c8effab01",
            "c49fbb9bb905de8b",
            "87edb5ffda3b4f68"
        ],
        "x": 674,
        "y": 59,
        "w": 582,
        "h": 342
    },
    {
        "id": "6b04ef086f6ceeab",
        "type": "group",
        "z": "689525d2b0418bc9",
        "name": "Настройки плитки",
        "style": {
            "label": true
        },
        "nodes": [
            "12619ff6dc9ff25c",
            "728f3554a973baab",
            "c2ba68fca1a350df",
            "f40aa3b089b9557e",
            "bb5c81d1cc65154a",
            "6c544b151d4ca137",
            "614a035500daafd3",
            "c0b2806be99caf07",
            "4df882c2bec0eeaf",
            "9f3b01a20033b654",
            "b634d2db94e2935f",
            "47d1528da730f0a5",
            "d07bf545c073aeae",
            "0c021d31742fa19a",
            "2b91bb619b5282d0"
        ],
        "x": 14,
        "y": 159,
        "w": 992,
        "h": 202
    },
    {
        "id": "9a2e40c463f71938",
        "type": "group",
        "z": "689525d2b0418bc9",
        "name": "Настройки плитки",
        "style": {
            "label": true
        },
        "nodes": [
            "cea16552c2645a5b",
            "bed8b1a698097c77",
            "b4ab6c8631d5b34f",
            "3f0a0d368ccb7664",
            "d4acc5aa71b9ec45",
            "ed683e7a1dc9acc2",
            "48be7707fbfd218a",
            "42f7bbafeae53f5d",
            "49cd621a58436a00",
            "98e244df847f1cd8",
            "42d9282f89b6e5a5",
            "7b504fa562d3be08",
            "25df1cd13ce7bb4a",
            "767b26a74640709e",
            "1b0d27a913315c54"
        ],
        "x": 14,
        "y": 379,
        "w": 992,
        "h": 202
    },
    {
        "id": "b4d9458bdc57e976",
        "type": "group",
        "z": "689525d2b0418bc9",
        "name": "Настройка состояния машины в ручном режиме",
        "style": {
            "label": true
        },
        "nodes": [
            "a5fe9d0f7ad6a0ee",
            "67685377850bfae8",
            "a37412cc2382df3b",
            "77127fc1e1b9c16a",
            "051c8c1c09216cb8",
            "1e2b45a776c1f40b",
            "a181fa0173df9933",
            "43f0b3836ed4f1ca",
            "87f930b8710e94c9",
            "d4083f38300a2a23",
            "d628b2b52fe8c28f",
            "5056ecf2ce1dcaf5",
            "3a3aab476b5c1a93"
        ],
        "x": 14,
        "y": 1199,
        "w": 1012,
        "h": 202
    },
    {
        "id": "9aa4b0bba078587c",
        "type": "group",
        "z": "689525d2b0418bc9",
        "name": "DataContext Set настраиваем параметры коннекций",
        "style": {
            "label": true
        },
        "nodes": [
            "87088b0a3bb7a69a",
            "83ca7f8c65331869",
            "b694343cdfcf3c88",
            "6fa0fc29022bc6d0",
            "e73f9cf8c088493f",
            "e6b72d664e24b782"
        ],
        "x": 14,
        "y": 19,
        "w": 632,
        "h": 122
    },
    {
        "id": "cf4d54b9a59a6817",
        "type": "group",
        "z": "689525d2b0418bc9",
        "name": "Поднастройка температурного датчика",
        "style": {
            "label": true
        },
        "nodes": [
            "c0196410f2e10167",
            "d163190cea867fc6",
            "02457305f6efe83b"
        ],
        "x": 654,
        "y": 19,
        "w": 612,
        "h": 122
    },
    {
        "id": "5492ea57e471bb96",
        "type": "group",
        "z": "689525d2b0418bc9",
        "name": "Настройки температур вентиялятора процессора",
        "style": {
            "label": true
        },
        "nodes": [
            "3313ca9f9d58ab3e",
            "dd84f00359d3ce17",
            "760adbbf8b7be58a",
            "b221b89b905be9b2",
            "d0b7280b72bcf4aa",
            "c5e913040a8f1b11",
            "292f4c106897b5bd",
            "1b37c34f912d18ac",
            "273f8e637a7098fc",
            "fee48acc4e6e381b",
            "40700e4e70a61608",
            "140f85297af41fb9",
            "965e4d2106f5f50b",
            "0e8791b9613119d3",
            "cd3ea60f4145a72b",
            "9e41dae8241356e4"
        ],
        "x": 14,
        "y": 899,
        "w": 992,
        "h": 202
    },
    {
        "id": "adadf87949793f19",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "name": "GPIO контроль",
        "style": {
            "label": true
        },
        "nodes": [
            "3cb74d78c4a5fa1b",
            "98940108442a8f1c",
            "5461aaca4563f9a9",
            "77766d5684615c70"
        ],
        "x": 28,
        "y": 1133,
        "w": 1004,
        "h": 634
    },
    {
        "id": "a6747735f8e1d59d",
        "type": "group",
        "z": "acc838421a0cef87",
        "name": "Для управления GPIO каналами",
        "style": {
            "label": true
        },
        "nodes": [
            "3d95cb2108417c56",
            "b02e53124916a7d3",
            "4d93266a54714547",
            "0c2068eafe2f772c",
            "547b60ae1650f088",
            "590e6cae5be947cf",
            "9dd4dcce5708657e",
            "dd602e441e160e66",
            "b6f963d84ae742b5",
            "7866448d7367894f",
            "19459d2f0bdff8cb",
            "fe832395e19e2ce2",
            "5ead204be0cdb941",
            "e427aa6b2238897f",
            "60dfdca2e6547119",
            "4d62ad7c856dd87d",
            "5c6ce36c3d726be3",
            "e8784575b7d8ecb0",
            "5c3b2e0178eed12f",
            "bb697c93f6c2ddaf",
            "7eb9b01ed7e8e58a",
            "12d5d0533e963ed2",
            "50b24d734108b089",
            "553b1c97707f1e7f",
            "7486c2be3cea72d9",
            "53b85fe2ae7fcde4",
            "c2ebf8a39b155972",
            "0b28383c46f8c84e",
            "2195413ab02def24",
            "3464acbb331c2f72",
            "9898fd516650cee3",
            "6cfabd3d1d632ed4",
            "84130ecdf4f9aa12",
            "f921f7e3339415db",
            "dd56d759b9e86f4a",
            "24894ca3800eeef9",
            "3d17b1f7211d79bf",
            "d7b0f54e2b7fc8ae",
            "4255ecc446791e3d",
            "ce7533a37683aa45",
            "2023a9496789bc51",
            "66ef75aaad7b8a12",
            "2c5bf1f7ee85d8a9",
            "a655d6f1dc9e5876"
        ],
        "x": 54,
        "y": 199,
        "w": 1212,
        "h": 542
    },
    {
        "id": "853d69964c76598d",
        "type": "group",
        "z": "3e878d680ba10599",
        "name": "ThinkSpeaker",
        "style": {
            "label": true
        },
        "nodes": [
            "69a17e758d2d83f5",
            "062dd309a896db02",
            "6bc6c1d6d38230af",
            "bc61f244a178f690",
            "b8ff2b8bcd918826",
            "36933cd8072359bf",
            "eeb3635ca7202321"
        ],
        "x": 114,
        "y": 419,
        "w": 802,
        "h": 162
    },
    {
        "id": "0dd769b21efba295",
        "type": "group",
        "z": "3e878d680ba10599",
        "name": "TG sender",
        "style": {
            "label": true
        },
        "nodes": [
            "e41c89237b7e0c4c",
            "b9386c0d971b58fe",
            "75e3eeb166aad582",
            "ae71987044a80cf0",
            "3692ce669cc3eccf"
        ],
        "x": 114,
        "y": 59,
        "w": 792,
        "h": 142
    },
    {
        "id": "57efb6f1f6363fdf",
        "type": "group",
        "z": "3e878d680ba10599",
        "name": "Запрос даных о температурных показателях в боте /temperature",
        "style": {
            "label": true,
            "color": "#3f3f3f"
        },
        "nodes": [
            "953d517342f82f92",
            "818be7890e62ee93",
            "285fcec90987a68c"
        ],
        "x": 114,
        "y": 219,
        "w": 852,
        "h": 82
    },
    {
        "id": "4fee59c3e4b3a927",
        "type": "group",
        "z": "3e878d680ba10599",
        "name": "Заинтересовались статусом системы",
        "style": {
            "label": true
        },
        "nodes": [
            "0a9bfe64b822c8d4",
            "3d87fef6dc423b14"
        ],
        "x": 114,
        "y": 319,
        "w": 292,
        "h": 82
    },
    {
        "id": "e8c22d7ac225993a",
        "type": "group",
        "z": "1b1750f2d5c4d92c",
        "name": "Узел отбора Dashboard",
        "style": {
            "label": true
        },
        "nodes": [
            "35bb1d40a2582e49",
            "30c5c5fb36a5e537",
            "35bff8c90f951338",
            "51c1bd86215076cd",
            "2488e07ce098103b",
            "e33339f13d1cdf54",
            "68b209f7fee83449",
            "ca41f707ceaab070"
        ],
        "x": 74,
        "y": 239,
        "w": 512,
        "h": 202
    },
    {
        "id": "19db234be3bf5502",
        "type": "group",
        "z": "1b1750f2d5c4d92c",
        "name": "Охлаждающая жидкость А1",
        "style": {
            "label": true
        },
        "nodes": [
            "73f9afa1d231e82c",
            "b8138f505e522a8a",
            "045b8115cf0bb463",
            "99b286bd9198d383",
            "599f67face796044",
            "a8c75df2867e0e67",
            "5c2a4386443abb59",
            "95bf533bf972da45"
        ],
        "x": 74,
        "y": 459,
        "w": 512,
        "h": 202
    },
    {
        "id": "171d6591267724ac",
        "type": "group",
        "z": "1b1750f2d5c4d92c",
        "name": "A2 датчик холла",
        "style": {
            "label": true
        },
        "nodes": [
            "439b1cf6b5ba6e48",
            "12c0057608c910b4",
            "5798d8793c30b95c"
        ],
        "x": 704,
        "y": 179,
        "w": 302,
        "h": 122
    },
    {
        "id": "668f8bd4cf42ccfa",
        "type": "group",
        "z": "1b1750f2d5c4d92c",
        "name": "A3 temp 100kOm",
        "style": {
            "label": true
        },
        "nodes": [
            "35b75dc6fa93776d",
            "c1995ec66e169dc9",
            "0cd4edd44640a93a"
        ],
        "x": 704,
        "y": 319,
        "w": 272,
        "h": 122
    },
    {
        "id": "21b5a7b5908d2ce9",
        "type": "group",
        "z": "e49fdc6477b4b147",
        "name": "Termostat",
        "style": {
            "label": true
        },
        "nodes": [
            "6717a2da.fcd2ec",
            "7382ac40.df0f54",
            "32d954d9617f30da",
            "b61e2ebfd8b7f84f",
            "07cd6f0f7732b8ba",
            "d30e1d977342f1ce",
            "94170e5835d261b4",
            "80dac428ab052ea5",
            "9d3ba3378df7089d",
            "85b175c7541a8491",
            "b31f63fab744526f",
            "8823408561d45455",
            "6b8322e1b3081f60",
            "d01f6e673ae030fb",
            "9e3d325ddb6b7cba",
            "b3ffed9824a99d34",
            "c90e16b038fcd759"
        ],
        "x": 74,
        "y": 419,
        "w": 972,
        "h": 442
    },
    {
        "id": "cc096943a2c5d28c",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "name": "3 зеленых свистка",
        "style": {
            "label": true
        },
        "nodes": [
            "f2837e308c3922cc",
            "58372f90ec9ddbe4",
            "a49ae0c431ad6c2e",
            "80ce4a409e2f203a",
            "4b8076688ac53b6c",
            "f67bca626a8f6de2",
            "f0b06bc2e7b555c4",
            "cda33c67d2f339c8",
            "d2ffb3afa2b15794",
            "75e6d58fc1960be3"
        ],
        "x": 34,
        "y": 1799,
        "w": 992,
        "h": 202
    },
    {
        "id": "65606c88f8af42e7",
        "type": "group",
        "z": "689525d2b0418bc9",
        "name": "Отладочные функции",
        "style": {
            "label": true
        },
        "nodes": [
            "5418897502365aa6",
            "bff0594ecaa22f2c",
            "59807a56d81ee9b9"
        ],
        "x": 24,
        "y": 1499,
        "w": 462,
        "h": 122
    },
    {
        "id": "c731e70da66a6977",
        "type": "group",
        "z": "1b1750f2d5c4d92c",
        "name": "Отладочные функции",
        "style": {
            "label": true
        },
        "nodes": [
            "8a1eda09ace06dcc",
            "7d60f58e82734ec0",
            "31e69947adc70fb7"
        ],
        "x": 694,
        "y": 39,
        "w": 402,
        "h": 122
    },
    {
        "id": "2e504ab0900f6399",
        "type": "group",
        "z": "28d207931314f7b9",
        "name": "Отладочные функции",
        "style": {
            "label": true
        },
        "nodes": [
            "c2cccf012db79019",
            "1f4d9ff9c2fa3d53",
            "118187121e8128fa"
        ],
        "x": 894,
        "y": 819,
        "w": 412,
        "h": 122
    },
    {
        "id": "5f8c1a0ad7ca8afa",
        "type": "group",
        "z": "1b1750f2d5c4d92c",
        "name": "Подогрев Плитки Dashboard",
        "style": {
            "label": true
        },
        "nodes": [
            "9bbd5c89f991e180",
            "133bab4c41e83d18",
            "cec2d7f72766cb3b",
            "7c697a86fcafe78e",
            "4cb622504ace93de",
            "e2b2cc5e7ac52312",
            "fa25915314fbaefb",
            "1dd706b93d69b5ad",
            "02c09a49192fb54f"
        ],
        "x": 84,
        "y": 19,
        "w": 542,
        "h": 202
    },
    {
        "id": "e6fbe603ae087133",
        "type": "group",
        "z": "1b1750f2d5c4d92c",
        "name": "State Machine",
        "style": {
            "label": true
        },
        "nodes": [
            "c1fecc3a8adb461f",
            "8499a6cbb165cc05",
            "97c64e0c8682e1e1",
            "5b3ff5420e8190b6",
            "cc7e7cae4c9ed8bd",
            "31f461edc6a1512f"
        ],
        "x": 704,
        "y": 459,
        "w": 512,
        "h": 182
    },
    {
        "id": "814a42c964d7ae92",
        "type": "group",
        "z": "689525d2b0418bc9",
        "name": "Настройки плитки",
        "style": {
            "label": true
        },
        "nodes": [
            "ac19e3c8155a3409",
            "2c7f695dbf1f3244",
            "194bd38d87fa4295",
            "8e21e16f9adcf523",
            "1a55cb40a1e782cd",
            "736eba11452d8449",
            "775516089b70b407",
            "d7e036ddb2553b9b",
            "69497fd568bfbb05",
            "ec8837118ccf576c",
            "dbb3f66904f582be",
            "9c67356924decb14",
            "cd31866d5de97e63",
            "d34b5970a4e82a82",
            "6a0e0c1f3b8d93aa"
        ],
        "x": 14,
        "y": 599,
        "w": 992,
        "h": 202
    },
    {
        "id": "98940108442a8f1c",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "g": "adadf87949793f19",
        "name": "Вентилятор",
        "style": {
            "label": true
        },
        "nodes": [
            "d67d10793d38b57c",
            "9dfd31adbca7b84b",
            "58fd2a05fa1c94bc",
            "a143056ad68883fa"
        ],
        "x": 54,
        "y": 1559,
        "w": 432,
        "h": 162
    },
    {
        "id": "5461aaca4563f9a9",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "g": "adadf87949793f19",
        "name": "Relay 30A And Solid relay",
        "style": {
            "label": true
        },
        "nodes": [
            "4b6ed5b6dfa4b843",
            "e8574edd8dd83504",
            "8e75426405b6bf4f",
            "ce7085e56f5bff4a",
            "b8ae39afeaadea52",
            "a1f10573e3dacf13",
            "68683c0f1be47eac",
            "5cd66dbfb0e5c1d6"
        ],
        "x": 514,
        "y": 1459,
        "w": 492,
        "h": 282
    },
    {
        "id": "77766d5684615c70",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "g": "adadf87949793f19",
        "name": "Управление мосяетами 12В",
        "style": {
            "label": true
        },
        "nodes": [
            "59e468a73bff55db",
            "a86ae3c4f841ae3a",
            "e41b33c82eb7b1df",
            "05679acbcd9b65c8",
            "2372e551c2e1ce8e",
            "e17cab92eef88b85",
            "09d5424fa138f4a6",
            "2fbb6a7d93127f87"
        ],
        "x": 514,
        "y": 1159,
        "w": 492,
        "h": 262
    },
    {
        "id": "3cb74d78c4a5fa1b",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "g": "adadf87949793f19",
        "name": "Relay module",
        "style": {
            "label": true
        },
        "nodes": [
            "0ed8bbf5b201d370",
            "f1971fdedde001af",
            "c16df44460b6c29b",
            "f0e78077cacab31b",
            "e48a5bbefa741e23",
            "98281e8b1398483e",
            "1b655240e4538349",
            "53fcd1f3c05522d6",
            "3d1825b746991acd"
        ],
        "x": 54,
        "y": 1159,
        "w": 432,
        "h": 382
    },
    {
        "id": "56a0451bf235f336",
        "type": "group",
        "z": "69390556a5a91fee",
        "g": "c5d8b32adacb3df1",
        "name": "Второй датчик на тесты",
        "style": {
            "label": true
        },
        "nodes": [
            "5a71b5507adbec06",
            "3dfcef3b9d9315b7"
        ],
        "x": 454,
        "y": 199,
        "w": 172,
        "h": 122
    },
    {
        "id": "de455f66c829480c",
        "type": "group",
        "z": "bf0b31ad452185bc",
        "name": "Реакция на кнопку",
        "style": {
            "label": true
        },
        "nodes": [
            "7a16be75497c85e1",
            "76aff6253370af19",
            "8995df7d3043a58f",
            "9fed43b1a73587a2",
            "e609d19c210b4aae",
            "6b763fb3678729ee",
            "ab78160770df2079"
        ],
        "x": 734,
        "y": 19,
        "w": 512,
        "h": 262
    },
    {
        "id": "9a288fe6eaa83734",
        "type": "oled-config",
        "name": "oled",
        "width": "128",
        "height": "64",
        "address": "0x3c",
        "driver": "SH1106",
        "i2cBus": "1"
    },
    {
        "id": "b060ecc4d70d714d",
        "type": "ui_group",
        "name": "среда обитания",
        "tab": "2f25092aba58fbac",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "bc598e3ecec29984",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#086317",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#4B7930",
                    "edited": true
                },
                "page-titlebar-backgroundColor": {
                    "value": "#4B7930",
                    "edited": true
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#6db046",
                    "edited": true
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": true
                },
                "widget-backgroundColor": {
                    "value": "#4b7930",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Raspberry pi",
            "hideToolbar": "false",
            "allowSwipe": "menu",
            "lockMenu": "false",
            "allowTempTheme": "false",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "2f25092aba58fbac",
        "type": "ui_tab",
        "name": "Внешние условия",
        "icon": "brightness_4",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "0a82b83cd78e01d2",
        "type": "ui_tab",
        "name": "Home",
        "icon": "multiline_chart",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "5574b409d9fa5ed4",
        "type": "ui_group",
        "name": "Шлиссельбург",
        "tab": "2f25092aba58fbac",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "d1197a6f8512dcae",
        "type": "ui_group",
        "name": "Подогрев плитки",
        "tab": "0a82b83cd78e01d2",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "09ed87156e7a24b9",
        "type": "ui_group",
        "name": "Состояние RPI",
        "tab": "2f25092aba58fbac",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "4d56de2073491c0e",
        "type": "ui_group",
        "name": "Колонна и клапан отбора",
        "tab": "0a82b83cd78e01d2",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e2f9f138b1d03a25",
        "type": "ui_tab",
        "name": "Tests",
        "icon": "bug_report",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "840f55649a14afa5",
        "type": "ui_group",
        "name": "filters",
        "tab": "e2f9f138b1d03a25",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c03e4b51a0a6beba",
        "type": "ui_tab",
        "name": "Настройки",
        "icon": "tune",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d4e8ef92094e0c11",
        "type": "ui_group",
        "name": "Плитка",
        "tab": "c03e4b51a0a6beba",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "6335583be6530cfb",
        "type": "ui_group",
        "name": "Состояние машины",
        "tab": "c03e4b51a0a6beba",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "bf8e3a22ec139fc3",
        "type": "ui_group",
        "name": "Всякое",
        "tab": "e2f9f138b1d03a25",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "0e2a4779b30f697b",
        "type": "ui_group",
        "name": "Вода охлаждения царги",
        "tab": "0a82b83cd78e01d2",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "77b399c1a35759fc",
        "type": "ui_group",
        "name": "Узел отбора",
        "tab": "c03e4b51a0a6beba",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "7060957109fdbc8f",
        "type": "ui_group",
        "name": "Параметры",
        "tab": "0a82b83cd78e01d2",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "9d338411b46642c1",
        "type": "ui_group",
        "name": "Все сенсоры",
        "tab": "c03e4b51a0a6beba",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "783559057c95f8c8",
        "type": "ui_group",
        "name": "Кулер CPU",
        "tab": "c03e4b51a0a6beba",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "056259f9fd8ceee2",
        "type": "mqtt-broker",
        "name": "localhost",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "6",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "0f87be16a5ecec30",
        "type": "ui_group",
        "d": true,
        "name": "A2",
        "tab": "0a82b83cd78e01d2",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "55013c025ab2c61e",
        "type": "ui_group",
        "d": true,
        "name": "A3",
        "tab": "0a82b83cd78e01d2",
        "order": 6,
        "disp": false,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "e783c52b93d2135d",
        "type": "telegram bot",
        "botname": "Autogon bot",
        "usernames": "",
        "chatids": "",
        "baseapiurl": "",
        "updatemode": "polling",
        "pollinterval": "300",
        "usesocks": false,
        "sockshost": "",
        "socksprotocol": "socks5",
        "socksport": "6667",
        "socksusername": "anonymous",
        "sockspassword": "",
        "bothost": "",
        "botpath": "",
        "localbotport": "8443",
        "publicbotport": "8443",
        "privatekey": "",
        "certificate": "",
        "useselfsignedcertificate": false,
        "sslterminated": false,
        "verboselogging": false
    },
    {
        "id": "03a44512caa39a3a",
        "type": "ui_spacer",
        "z": "9bdc2ffae08abcfc",
        "name": "spacer",
        "group": "bf8e3a22ec139fc3",
        "order": 6,
        "width": 3,
        "height": 1
    },
    {
        "id": "fea7a047a7d4c832",
        "type": "ui_spacer",
        "z": "9bdc2ffae08abcfc",
        "name": "spacer",
        "group": "bf8e3a22ec139fc3",
        "order": 7,
        "width": 3,
        "height": 1
    },
    {
        "id": "22cbf34e18eace21",
        "type": "ui_spacer",
        "z": "9bdc2ffae08abcfc",
        "name": "spacer",
        "group": "bf8e3a22ec139fc3",
        "order": 8,
        "width": 3,
        "height": 1
    },
    {
        "id": "f39b1bc7cfc9c7a0",
        "type": "ui_spacer",
        "z": "1b1750f2d5c4d92c",
        "name": "spacer",
        "group": "d1197a6f8512dcae",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "97e0603755dc683d",
        "type": "ui_spacer",
        "z": "1b1750f2d5c4d92c",
        "name": "spacer",
        "group": "4d56de2073491c0e",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "8d1cf089a551e838",
        "type": "ui_spacer",
        "z": "1b1750f2d5c4d92c",
        "name": "spacer",
        "group": "0e2a4779b30f697b",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "10cb1218d25f1983",
        "type": "ui_spacer",
        "z": "1b1750f2d5c4d92c",
        "name": "spacer",
        "group": "0f87be16a5ecec30",
        "order": 2,
        "width": 3,
        "height": 1
    },
    {
        "id": "d79ca01037c7c21a",
        "type": "ui_spacer",
        "z": "1b1750f2d5c4d92c",
        "name": "spacer",
        "group": "0f87be16a5ecec30",
        "order": 3,
        "width": 3,
        "height": 1
    },
    {
        "id": "0f4786810dda15a5",
        "type": "ui_spacer",
        "z": "1b1750f2d5c4d92c",
        "name": "spacer",
        "group": "0f87be16a5ecec30",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "6ef14bee08b24a35",
        "type": "ui_spacer",
        "z": "1b1750f2d5c4d92c",
        "name": "spacer",
        "group": "55013c025ab2c61e",
        "order": 2,
        "width": 3,
        "height": 1
    },
    {
        "id": "801558aba8b285d7",
        "type": "ui_spacer",
        "z": "1b1750f2d5c4d92c",
        "name": "spacer",
        "group": "55013c025ab2c61e",
        "order": 3,
        "width": 3,
        "height": 1
    },
    {
        "id": "fb35e821d6efa022",
        "type": "ui_spacer",
        "z": "1b1750f2d5c4d92c",
        "name": "spacer",
        "group": "55013c025ab2c61e",
        "order": 4,
        "width": 3,
        "height": 1
    },
    {
        "id": "45694f250ca041cb",
        "type": "ui_group",
        "name": "Помпа воды охл.",
        "tab": "c03e4b51a0a6beba",
        "order": 6,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "917cb1f3cd0f427e",
        "type": "ui_group",
        "name": "Термостат охлаждения",
        "tab": "e2f9f138b1d03a25",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "ed794f0766c95ca8",
        "type": "ui_group",
        "name": "Термостат подогрева",
        "tab": "e2f9f138b1d03a25",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false,
        "className": ""
    },
    {
        "id": "2f8507cfb7cd8c40",
        "type": "openweathermap",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "Погода в доме",
        "wtype": "current",
        "lon": "31.03845",
        "lat": "59.9473",
        "city": "",
        "country": "",
        "language": "ru",
        "x": 280,
        "y": 120,
        "wires": [
            [
                "98312abe70645a8c",
                "e9e47041a4a3e02c",
                "a84e9da19962178d",
                "df3eec5f2605afae"
            ]
        ]
    },
    {
        "id": "3fc766e609978c5b",
        "type": "inject",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "run2",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1800",
        "crontab": "",
        "once": true,
        "onceDelay": "10.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [
            [
                "2f8507cfb7cd8c40",
                "c78d0557abcf6e93"
            ]
        ]
    },
    {
        "id": "98312abe70645a8c",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "Get tempC",
        "func": "return { payload: msg.payload.tempc,\n topic : 'OpenWeather',\n parts: 1\n };",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 180,
        "wires": [
            [
                "20191da018f6775e"
            ]
        ]
    },
    {
        "id": "e9e47041a4a3e02c",
        "type": "ui_gauge",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "температура",
        "group": "5574b409d9fa5ed4",
        "order": 4,
        "width": 3,
        "height": 3,
        "gtype": "donut",
        "title": "Open Weather",
        "label": "t °c",
        "format": "{{msg.payload.tempc}}",
        "min": "-40",
        "max": "40",
        "colors": [
            "#009eb3",
            "#92f104",
            "#ca3838"
        ],
        "seg1": "10",
        "seg2": "28",
        "diff": false,
        "className": "",
        "x": 690,
        "y": 140,
        "wires": []
    },
    {
        "id": "20191da018f6775e",
        "type": "ui_chart",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "",
        "group": "5574b409d9fa5ed4",
        "order": 3,
        "width": 6,
        "height": "3",
        "label": "уличная t°",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "23",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#ff751e",
            "#aec7e8",
            "#0f57ff",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 690,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "c78d0557abcf6e93",
        "type": "ui_template",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "group": "5574b409d9fa5ed4",
        "name": "iframe с погодой",
        "order": 6,
        "width": 3,
        "height": 4,
        "format": "<iframe\n src=\"https://api.openweathermap.org/data/2.5/weather?units=metric&lat=59.9473&lon=31.03845&appid=9646f22ded036b4a938a2e44dfcba412&mode=html&lang=RU\" \n height=\"150\"\n  width=\"140\"\n   frameBorder=\"0\">\n    </iframe>",
        "storeOutMessages": true,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 310,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "fcfe5eed1d61a371",
        "type": "inject",
        "z": "28d207931314f7b9",
        "g": "bb2c9fc74b3799c2",
        "name": "1 min",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 700,
        "wires": [
            [
                "b58d1a81038c07a3",
                "7913dbcdfaf46192"
            ]
        ]
    },
    {
        "id": "101cadb37dee5e5c",
        "type": "comment",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "Key",
        "info": " apkey 9646f22ded036b4a938a2e44dfcba412",
        "x": 130,
        "y": 60,
        "wires": []
    },
    {
        "id": "ea81ad2e5376aab8",
        "type": "OS",
        "z": "28d207931314f7b9",
        "g": "ba596eb4ae6ad109",
        "name": "",
        "x": 1070,
        "y": 160,
        "wires": [
            [
                "1fc277fe28ca5750",
                "f5c569918f4b1d1c",
                "f636e5b309313f9d",
                "5a6889750754288b"
            ]
        ]
    },
    {
        "id": "bed9b959cc5c1cd7",
        "type": "inject",
        "z": "28d207931314f7b9",
        "g": "ba596eb4ae6ad109",
        "name": "once",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 890,
        "y": 160,
        "wires": [
            [
                "ea81ad2e5376aab8",
                "b5e0f118b45dbbeb"
            ]
        ]
    },
    {
        "id": "b5e0f118b45dbbeb",
        "type": "NetworkIntf",
        "z": "28d207931314f7b9",
        "g": "ba596eb4ae6ad109",
        "name": "",
        "x": 970,
        "y": 240,
        "wires": [
            [
                "7fb609b9c7b77ca0"
            ]
        ]
    },
    {
        "id": "7fb609b9c7b77ca0",
        "type": "ui_text",
        "z": "28d207931314f7b9",
        "g": "ba596eb4ae6ad109",
        "group": "b060ecc4d70d714d",
        "order": 6,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "ip:",
        "format": "{{msg.payload.networkInterfaces.wlan0[0].address}}",
        "layout": "row-left",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1130,
        "y": 260,
        "wires": []
    },
    {
        "id": "a84e9da19962178d",
        "type": "ui_text",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "group": "5574b409d9fa5ed4",
        "order": 8,
        "width": 3,
        "height": 2,
        "name": "описание",
        "label": "",
        "format": "{{msg.payload.detail}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 700,
        "y": 100,
        "wires": []
    },
    {
        "id": "b58d1a81038c07a3",
        "type": "exec",
        "z": "28d207931314f7b9",
        "g": "bb2c9fc74b3799c2",
        "command": "bash Templates/ssd_temp1.sh",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "ssd_temp1",
        "x": 270,
        "y": 700,
        "wires": [
            [
                "1eb58897b269560c"
            ],
            [],
            []
        ]
    },
    {
        "id": "1eb58897b269560c",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "bb2c9fc74b3799c2",
        "name": "to число 1",
        "func": "msg.payload = Number(String(msg.payload).replace('Temperature Sensor 1:', '').replace('Celsius', ''));\nmsg.topic = \"SSD t°\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 700,
        "wires": [
            [
                "8dbf409f9617748c",
                "371de6bd2a00b759"
            ]
        ]
    },
    {
        "id": "7913dbcdfaf46192",
        "type": "exec",
        "z": "28d207931314f7b9",
        "g": "bb2c9fc74b3799c2",
        "command": "bash Templates/ssd_temp2.sh",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "ssd_temp2",
        "x": 250,
        "y": 740,
        "wires": [
            [
                "4ee56a9da757df87"
            ],
            [],
            []
        ]
    },
    {
        "id": "4ee56a9da757df87",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "bb2c9fc74b3799c2",
        "name": "to число 2",
        "func": "msg.payload = Number(String(msg.payload).replace('Temperature Sensor 2:', '').replace('Celsius', ''));\nmsg.topic = \"SSD2 °\";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 760,
        "wires": [
            [
                "66362bb068e22789"
            ]
        ]
    },
    {
        "id": "28d6858b0d7b2d05",
        "type": "ui_chart",
        "z": "28d207931314f7b9",
        "d": true,
        "g": "bb2c9fc74b3799c2",
        "name": "",
        "group": "09ed87156e7a24b9",
        "order": 4,
        "width": 6,
        "height": 4,
        "label": "SSD 2 t°",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 700,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "5695173f661c8c88",
        "type": "ui_button",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "",
        "group": "b060ecc4d70d714d",
        "order": 1,
        "width": 3,
        "height": 1,
        "passthru": true,
        "label": "Выключить RPi",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "Уходя, гасите всех",
        "payloadType": "str",
        "topic": "0",
        "topicType": "str",
        "x": 960,
        "y": 460,
        "wires": [
            [
                "7b6611a4455b1265",
                "1ff736a9fd1728e4",
                "c9f41decde5f6806",
                "bc304590379edb15"
            ]
        ]
    },
    {
        "id": "7b6611a4455b1265",
        "type": "ui_audio",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "",
        "group": "bf8e3a22ec139fc3",
        "voice": "Google русский",
        "always": true,
        "x": 1160,
        "y": 420,
        "wires": []
    },
    {
        "id": "1ff736a9fd1728e4",
        "type": "delay",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1130,
        "y": 380,
        "wires": [
            [
                "63fe53a5dd59ef4e"
            ]
        ]
    },
    {
        "id": "63fe53a5dd59ef4e",
        "type": "shutdown",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "",
        "x": 1320,
        "y": 380,
        "wires": []
    },
    {
        "id": "d122d64cc32afeda",
        "type": "ui_button",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "",
        "group": "b060ecc4d70d714d",
        "order": 2,
        "width": 3,
        "height": 1,
        "passthru": true,
        "label": "Рестарт",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "Перезагрузка",
        "payloadType": "str",
        "topic": "0",
        "topicType": "str",
        "x": 960,
        "y": 560,
        "wires": [
            [
                "8ec31f1eafb7a75b",
                "5c531c188346ac51",
                "cd49d3e3e06c8785",
                "bc304590379edb15"
            ]
        ]
    },
    {
        "id": "8ec31f1eafb7a75b",
        "type": "ui_audio",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "",
        "group": "bf8e3a22ec139fc3",
        "voice": "Google русский",
        "always": true,
        "x": 1120,
        "y": 700,
        "wires": []
    },
    {
        "id": "5c531c188346ac51",
        "type": "delay",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 1150,
        "y": 660,
        "wires": [
            [
                "11c72010ebfa13c9"
            ]
        ]
    },
    {
        "id": "11c72010ebfa13c9",
        "type": "restart",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "",
        "x": 1330,
        "y": 660,
        "wires": []
    },
    {
        "id": "056455ec45b3a536",
        "type": "link out",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "выключаем машину",
        "mode": "link",
        "links": [
            "8144d31cbdf6d265"
        ],
        "x": 1305,
        "y": 540,
        "wires": []
    },
    {
        "id": "cd49d3e3e06c8785",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "to OLED",
        "func": "return {\n    payload : \"Reboot\",\n    topic : 0\n};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 620,
        "wires": [
            [
                "056455ec45b3a536"
            ]
        ],
        "info": "фактически скользящая средняя за 4 значения получается"
    },
    {
        "id": "c9f41decde5f6806",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "to OLED",
        "func": "return {\n    payload : \"Shutdown\",\n    topic : 0\n};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1160,
        "y": 460,
        "wires": [
            [
                "056455ec45b3a536"
            ]
        ],
        "info": "фактически скользящая средняя за 4 значения получается"
    },
    {
        "id": "1fc277fe28ca5750",
        "type": "ui_text",
        "z": "28d207931314f7b9",
        "g": "ba596eb4ae6ad109",
        "group": "b060ecc4d70d714d",
        "order": 3,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "Host",
        "format": "{{msg.payload.hostname}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1330,
        "y": 160,
        "wires": []
    },
    {
        "id": "f5c569918f4b1d1c",
        "type": "ui_text",
        "z": "28d207931314f7b9",
        "g": "ba596eb4ae6ad109",
        "group": "b060ecc4d70d714d",
        "order": 4,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "OS type",
        "format": "{{msg.payload.platform}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1320,
        "y": 200,
        "wires": []
    },
    {
        "id": "f636e5b309313f9d",
        "type": "ui_text",
        "z": "28d207931314f7b9",
        "g": "ba596eb4ae6ad109",
        "group": "b060ecc4d70d714d",
        "order": 5,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "OS architekt",
        "format": "{{msg.payload.arch}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1310,
        "y": 240,
        "wires": []
    },
    {
        "id": "5a6889750754288b",
        "type": "ui_text",
        "z": "28d207931314f7b9",
        "g": "ba596eb4ae6ad109",
        "group": "b060ecc4d70d714d",
        "order": 10,
        "width": 3,
        "height": 2,
        "name": "",
        "label": "release",
        "format": "{{msg.payload.release}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1320,
        "y": 280,
        "wires": []
    },
    {
        "id": "f80a71c67433d813",
        "type": "Memory",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "",
        "scale": "Megabyte",
        "x": 240,
        "y": 440,
        "wires": [
            [
                "a72e8bf7641b8e0e",
                "ffe943f425d87c20"
            ]
        ]
    },
    {
        "id": "a72e8bf7641b8e0e",
        "type": "ui_text",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "group": "b060ecc4d70d714d",
        "order": 7,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "memory free",
        "format": "{{msg.payload.freemem.toFixed(2)}} Mb",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 430,
        "y": 420,
        "wires": []
    },
    {
        "id": "ffe943f425d87c20",
        "type": "ui_text",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "group": "b060ecc4d70d714d",
        "order": 9,
        "width": 3,
        "height": 1,
        "name": "",
        "label": "memory usage",
        "format": "{{msg.payload.memusage.toFixed(1)}} %",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 420,
        "y": 460,
        "wires": []
    },
    {
        "id": "685135b1ccfda9c9",
        "type": "exec",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "command": "bash Templates/print_temp.sh",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "VPU temp",
        "x": 270,
        "y": 560,
        "wires": [
            [
                "c18378e7b7261002"
            ],
            [],
            []
        ]
    },
    {
        "id": "c18378e7b7261002",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "конвертер & Save",
        "func": "msg.payload = Number(msg.payload);\nmsg.topic = \"VPU t°\"; // для контроллера GPIO\nglobal.set(\"7CurrentTemperatue\", msg.payload, 'file');\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 540,
        "wires": [
            [
                "f915056fe7b871b2",
                "371de6bd2a00b759"
            ]
        ]
    },
    {
        "id": "4cb9d71b945797e5",
        "type": "inject",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "1 sec",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "5",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 500,
        "wires": [
            [
                "f2444ff5c9a01c14"
            ]
        ]
    },
    {
        "id": "f2444ff5c9a01c14",
        "type": "Loadavg",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "",
        "x": 280,
        "y": 500,
        "wires": [
            [
                "1d9888e7368e8c5d"
            ]
        ]
    },
    {
        "id": "1d9888e7368e8c5d",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "mult 100",
        "func": "return { payload: msg.payload.loadavg[1] * 100};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 500,
        "wires": [
            [
                "59b7e25002597016",
                "f04687f7ee08e032"
            ]
        ]
    },
    {
        "id": "371de6bd2a00b759",
        "type": "ui_chart",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "",
        "group": "09ed87156e7a24b9",
        "order": 5,
        "width": 6,
        "height": "4",
        "label": "",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#e2e9af",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 670,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "f915056fe7b871b2",
        "type": "ui_gauge",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "VCU",
        "group": "09ed87156e7a24b9",
        "order": 3,
        "width": 3,
        "height": 3,
        "gtype": "donut",
        "title": "VCU",
        "label": "t °c",
        "format": "{{value}}",
        "min": "20",
        "max": "90",
        "colors": [
            "#009eb3",
            "#92f104",
            "#ca3838"
        ],
        "seg1": "40",
        "seg2": "70",
        "diff": false,
        "className": "",
        "x": 710,
        "y": 520,
        "wires": []
    },
    {
        "id": "59b7e25002597016",
        "type": "ui_chart",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "",
        "group": "b060ecc4d70d714d",
        "order": 1,
        "width": 6,
        "height": "4",
        "label": "CPU Load %",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "5",
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 690,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "f04687f7ee08e032",
        "type": "ui_gauge",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "",
        "group": "09ed87156e7a24b9",
        "order": 2,
        "width": 3,
        "height": 3,
        "gtype": "gage",
        "title": "CPU Load",
        "label": "units",
        "format": "{{msg.payload | number:0}}%",
        "min": 0,
        "max": "250",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "80",
        "seg2": "150",
        "diff": false,
        "className": "",
        "x": 690,
        "y": 480,
        "wires": []
    },
    {
        "id": "8dbf409f9617748c",
        "type": "ui_gauge",
        "z": "28d207931314f7b9",
        "g": "bb2c9fc74b3799c2",
        "name": "SSD1",
        "group": "09ed87156e7a24b9",
        "order": 6,
        "width": 3,
        "height": 3,
        "gtype": "donut",
        "title": "SSD 1",
        "label": "t °c",
        "format": "{{value}}",
        "min": "20",
        "max": "90",
        "colors": [
            "#009eb3",
            "#92f104",
            "#ca3838"
        ],
        "seg1": "40",
        "seg2": "70",
        "diff": false,
        "className": "",
        "x": 710,
        "y": 700,
        "wires": []
    },
    {
        "id": "66362bb068e22789",
        "type": "ui_gauge",
        "z": "28d207931314f7b9",
        "g": "bb2c9fc74b3799c2",
        "name": "SSD2",
        "group": "09ed87156e7a24b9",
        "order": 7,
        "width": 3,
        "height": 3,
        "gtype": "donut",
        "title": "SSD2",
        "label": "t °c",
        "format": "{{value}}",
        "min": "20",
        "max": "90",
        "colors": [
            "#009eb3",
            "#92f104",
            "#ca3838"
        ],
        "seg1": "40",
        "seg2": "70",
        "diff": false,
        "className": "",
        "x": 570,
        "y": 760,
        "wires": []
    },
    {
        "id": "922e9836d04979c4",
        "type": "inject",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "1 min",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 540,
        "wires": [
            [
                "685135b1ccfda9c9"
            ]
        ]
    },
    {
        "id": "d891a232b8af5c61",
        "type": "inject",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "1 min",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "f80a71c67433d813"
            ]
        ]
    },
    {
        "id": "1169f18d681bdd06",
        "type": "ui_led",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "order": 8,
        "group": "09ed87156e7a24b9",
        "width": 6,
        "height": 1,
        "label": "Состояние включения кулера охлажения",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 490,
        "y": 600,
        "wires": []
    },
    {
        "id": "c32a7373a0b762e5",
        "type": "link in",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "LEd for gpio 14",
        "links": [
            "4d93266a54714547"
        ],
        "x": 385,
        "y": 600,
        "wires": [
            [
                "1169f18d681bdd06"
            ]
        ]
    },
    {
        "id": "d7f22734704a5332",
        "type": "mqtt in",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "home/sensors/esp8266Temp2",
        "topic": "home/sensors/esp8266Temp2",
        "qos": "1",
        "datatype": "auto-detect",
        "broker": "056259f9fd8ceee2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 160,
        "y": 240,
        "wires": [
            [
                "610b93459e6ae454",
                "b0610e2f75029968",
                "085364e5ea78c6d1"
            ]
        ]
    },
    {
        "id": "c44a33aeb054ec5f",
        "type": "ui_chart",
        "z": "28d207931314f7b9",
        "d": true,
        "g": "819a2e8044bb7c9e",
        "name": "",
        "group": "5574b409d9fa5ed4",
        "order": 9,
        "width": 6,
        "height": 4,
        "label": "temp first sensor",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "23",
        "removeOlderPoints": "100",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 680,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "610b93459e6ae454",
        "type": "link out",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "from mqtt esp8266Temp1",
        "mode": "link",
        "links": [
            "ae0f006d70a36f16"
        ],
        "x": 385,
        "y": 220,
        "wires": []
    },
    {
        "id": "b0610e2f75029968",
        "type": "debug",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "debug 3",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 440,
        "y": 300,
        "wires": []
    },
    {
        "id": "085364e5ea78c6d1",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "Save topic to file",
        "func": "global.set(msg.topic, msg.payload, 'file');\nmsg.topic = 'esp 2';\nmsg.payload = Number(msg.payload).toFixed(2);\nmsg.parts = 2\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 460,
        "y": 260,
        "wires": [
            [
                "c44a33aeb054ec5f",
                "b94d6d39d58ab78b",
                "20191da018f6775e"
            ]
        ]
    },
    {
        "id": "b94d6d39d58ab78b",
        "type": "ui_gauge",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "температура",
        "group": "5574b409d9fa5ed4",
        "order": 5,
        "width": 3,
        "height": 3,
        "gtype": "donut",
        "title": "from sensor",
        "label": "t °c",
        "format": "{{value | number:1}}",
        "min": "-40",
        "max": "40",
        "colors": [
            "#009eb3",
            "#92f104",
            "#ca3838"
        ],
        "seg1": "10",
        "seg2": "28",
        "diff": false,
        "className": "",
        "x": 690,
        "y": 240,
        "wires": []
    },
    {
        "id": "186cf7b1b9d1e580",
        "type": "ui_gauge",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "",
        "group": "b060ecc4d70d714d",
        "order": 8,
        "width": 3,
        "height": 4,
        "gtype": "gage",
        "title": "WiFi level",
        "label": "dBm",
        "format": "{{msg.dBm}}",
        "min": "-90",
        "max": "-10",
        "colors": [
            "#b33e00",
            "#e6e600",
            "#3abacb"
        ],
        "seg1": "-70",
        "seg2": "-49",
        "diff": false,
        "className": "",
        "x": 260,
        "y": 600,
        "wires": []
    },
    {
        "id": "6241a90d8044b682",
        "type": "link in",
        "z": "28d207931314f7b9",
        "g": "da0733697f9501ac",
        "name": "Wifi level",
        "links": [
            "c6c6091668bce197"
        ],
        "x": 105,
        "y": 600,
        "wires": [
            [
                "186cf7b1b9d1e580"
            ]
        ]
    },
    {
        "id": "5456071bd730d390",
        "type": "ui_template",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "group": "5574b409d9fa5ed4",
        "name": "",
        "order": 7,
        "width": 3,
        "height": 2,
        "format": "<!DOCTYPE html>\n<html>\n<head>\n<style>\ndiv.parent {\n  position: relative;\n  height: 75px ;\n  width: 75px;\n}\ndiv.absolute {\n  position: absolute;\n  width: 100%;\n  bottom: 0px;\n} \nimg{\n  border-radius: 10px;\n}\n\n</style>\n</head>\n<body>\n    <div class=\"parent\">\n        <div class=\"relative\" >\n          \n        <img src={{msg.payload}} alt=\"Image loaded from the filestore\" style=\"width:100%\"><br>\n        </div>\n    </div>\n</body>\n</html>\n\n",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 700,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "df3eec5f2605afae",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "function 3",
        "func": "return {\n     payload: 'http://openweathermap.org/img/w/' + msg.payload.icon + '.png'\n     };",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 60,
        "wires": [
            [
                "5456071bd730d390"
            ]
        ]
    },
    {
        "id": "a09518702aa58e9d",
        "type": "inject",
        "z": "28d207931314f7b9",
        "g": "819a2e8044bb7c9e",
        "name": "",
        "props": [
            {
                "p": "payload.tempc",
                "v": "-7.25",
                "vt": "str"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 200,
        "y": 160,
        "wires": [
            [
                "98312abe70645a8c"
            ]
        ]
    },
    {
        "id": "bc304590379edb15",
        "type": "link out",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "reboot/shutdown",
        "mode": "link",
        "links": [
            "3692ce669cc3eccf",
            "75e6d58fc1960be3"
        ],
        "x": 1115,
        "y": 520,
        "wires": []
    },
    {
        "id": "c2cccf012db79019",
        "type": "link out",
        "z": "28d207931314f7b9",
        "g": "2e504ab0900f6399",
        "name": "sender",
        "mode": "link",
        "links": [
            "3692ce669cc3eccf"
        ],
        "x": 1265,
        "y": 860,
        "wires": []
    },
    {
        "id": "1f4d9ff9c2fa3d53",
        "type": "catch",
        "z": "28d207931314f7b9",
        "g": "2e504ab0900f6399",
        "name": "",
        "scope": null,
        "uncaught": true,
        "x": 1020,
        "y": 860,
        "wires": [
            [
                "c2cccf012db79019",
                "118187121e8128fa"
            ]
        ]
    },
    {
        "id": "118187121e8128fa",
        "type": "debug",
        "z": "28d207931314f7b9",
        "g": "2e504ab0900f6399",
        "name": "debug all",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 900,
        "wires": []
    },
    {
        "id": "94292ca4f9fe9a4e",
        "type": "Uptime",
        "z": "28d207931314f7b9",
        "g": "e1d07ebd1f92f5c7",
        "name": "",
        "x": 1020,
        "y": 60,
        "wires": [
            [
                "517c76db7a7fca56"
            ]
        ]
    },
    {
        "id": "517c76db7a7fca56",
        "type": "function",
        "z": "28d207931314f7b9",
        "g": "e1d07ebd1f92f5c7",
        "name": "To dd HH mm ss",
        "func": "\nfunction secondsToDhms(seconds) {\n    seconds = Number(seconds);\n    var d = Math.floor(seconds / (3600 * 24));\n    var h = Math.floor(seconds % (3600 * 24) / 3600);\n    var m = Math.floor(seconds % 3600 / 60);\n    var s = Math.floor(seconds % 60);\n\n    var dDisplay = d > 0 ? d + (\"дн \") : \"\";\n    var hDisplay = h > 0 ? h + (\"ч \") : \"\";\n    var mDisplay = d == 0 ? m + (\"м \") : \"\";\n    var sDisplay = d == 0 && h == 0 ? s + (\"с\") : \"\";\n    return dDisplay + hDisplay + mDisplay + sDisplay;\n}\n\nmsg.payload = secondsToDhms(msg.payload.uptime);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 60,
        "wires": [
            [
                "292047aa63301aea"
            ]
        ]
    },
    {
        "id": "292047aa63301aea",
        "type": "ui_text",
        "z": "28d207931314f7b9",
        "g": "e1d07ebd1f92f5c7",
        "group": "5574b409d9fa5ed4",
        "order": 2,
        "width": 2,
        "height": 1,
        "name": "uptime",
        "label": "uptime",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1330,
        "y": 60,
        "wires": []
    },
    {
        "id": "55a3b10004090ac6",
        "type": "inject",
        "z": "28d207931314f7b9",
        "g": "e1d07ebd1f92f5c7",
        "name": "1 s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "v": "first",
                "vt": "global"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 890,
        "y": 60,
        "wires": [
            [
                "94292ca4f9fe9a4e"
            ]
        ]
    },
    {
        "id": "1c1a34066bc54c97",
        "type": "link in",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "run restart",
        "links": [],
        "x": 845,
        "y": 580,
        "wires": [
            [
                "d122d64cc32afeda"
            ]
        ]
    },
    {
        "id": "658106c7b8100682",
        "type": "link in",
        "z": "28d207931314f7b9",
        "g": "34aa230d4576614f",
        "name": "run SHUTDOWN",
        "links": [
            "ab78160770df2079"
        ],
        "x": 835,
        "y": 420,
        "wires": [
            [
                "5695173f661c8c88"
            ]
        ]
    },
    {
        "id": "35bb1d40a2582e49",
        "type": "ui_chart",
        "z": "1b1750f2d5c4d92c",
        "g": "e8c22d7ac225993a",
        "name": "",
        "group": "4d56de2073491c0e",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "в узле отбора",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "cubic",
        "nodata": "в колонне t°",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 280,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "30c5c5fb36a5e537",
        "type": "ui_gauge",
        "z": "1b1750f2d5c4d92c",
        "g": "e8c22d7ac225993a",
        "name": "",
        "group": "4d56de2073491c0e",
        "order": 1,
        "width": 2,
        "height": 3,
        "gtype": "donut",
        "title": "t° в узле (A0)",
        "label": "",
        "format": "{{msg.payload | number:2}}°",
        "min": "10",
        "max": "110",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "85",
        "seg2": "92",
        "diff": false,
        "className": "",
        "x": 280,
        "y": 320,
        "wires": []
    },
    {
        "id": "35bff8c90f951338",
        "type": "link in",
        "z": "1b1750f2d5c4d92c",
        "g": "e8c22d7ac225993a",
        "name": "A0 Dashboard",
        "links": [
            "eac209c032de65d0"
        ],
        "x": 125,
        "y": 280,
        "wires": [
            [
                "35bb1d40a2582e49",
                "30c5c5fb36a5e537"
            ]
        ]
    },
    {
        "id": "73f9afa1d231e82c",
        "type": "ui_chart",
        "z": "1b1750f2d5c4d92c",
        "g": "19db234be3bf5502",
        "name": "",
        "group": "0e2a4779b30f697b",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "охлаждение",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#2d8dd2",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 290,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "b8138f505e522a8a",
        "type": "ui_gauge",
        "z": "1b1750f2d5c4d92c",
        "g": "19db234be3bf5502",
        "name": "",
        "group": "0e2a4779b30f697b",
        "order": 1,
        "width": 2,
        "height": 3,
        "gtype": "donut",
        "title": "t° воды охл. (A1)",
        "label": "",
        "format": "{{msg.payload | number:2}}°",
        "min": "10",
        "max": "70",
        "colors": [
            "#008fb3",
            "#00e6bf",
            "#ca3838"
        ],
        "seg1": "15",
        "seg2": "60",
        "diff": false,
        "className": "",
        "x": 270,
        "y": 540,
        "wires": []
    },
    {
        "id": "045b8115cf0bb463",
        "type": "link in",
        "z": "1b1750f2d5c4d92c",
        "g": "19db234be3bf5502",
        "name": "A1 Dashboard",
        "links": [
            "74ece3f8c8fd8eab"
        ],
        "x": 125,
        "y": 500,
        "wires": [
            [
                "73f9afa1d231e82c",
                "b8138f505e522a8a"
            ]
        ]
    },
    {
        "id": "439b1cf6b5ba6e48",
        "type": "ui_gauge",
        "z": "1b1750f2d5c4d92c",
        "g": "171d6591267724ac",
        "name": "",
        "group": "0f87be16a5ecec30",
        "order": 1,
        "width": 3,
        "height": 3,
        "gtype": "donut",
        "title": "A2",
        "label": "",
        "format": "{{msg.payload | number:2}}°",
        "min": "10",
        "max": "70",
        "colors": [
            "#008fb3",
            "#00e6bf",
            "#ca3838"
        ],
        "seg1": "15",
        "seg2": "60",
        "diff": false,
        "className": "",
        "x": 890,
        "y": 220,
        "wires": []
    },
    {
        "id": "12c0057608c910b4",
        "type": "ui_chart",
        "z": "1b1750f2d5c4d92c",
        "g": "171d6591267724ac",
        "name": "",
        "group": "0f87be16a5ecec30",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "датчик А2",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#2d8dd2",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 910,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "5798d8793c30b95c",
        "type": "link in",
        "z": "1b1750f2d5c4d92c",
        "g": "171d6591267724ac",
        "name": "A2 Dashboard",
        "links": [
            "ad0c795142b92858"
        ],
        "x": 745,
        "y": 220,
        "wires": [
            [
                "439b1cf6b5ba6e48",
                "12c0057608c910b4"
            ]
        ]
    },
    {
        "id": "35b75dc6fa93776d",
        "type": "link in",
        "z": "1b1750f2d5c4d92c",
        "g": "668f8bd4cf42ccfa",
        "name": "A3 Dashboard",
        "links": [
            "68190e5c8effab01"
        ],
        "x": 745,
        "y": 360,
        "wires": [
            [
                "0cd4edd44640a93a",
                "c1995ec66e169dc9"
            ]
        ]
    },
    {
        "id": "c1995ec66e169dc9",
        "type": "ui_gauge",
        "z": "1b1750f2d5c4d92c",
        "g": "668f8bd4cf42ccfa",
        "name": "",
        "group": "55013c025ab2c61e",
        "order": 1,
        "width": 3,
        "height": 3,
        "gtype": "donut",
        "title": "A3",
        "label": "",
        "format": "{{msg.payload | number:2}}°",
        "min": "10",
        "max": "70",
        "colors": [
            "#008fb3",
            "#00e6bf",
            "#ca3838"
        ],
        "seg1": "15",
        "seg2": "60",
        "diff": false,
        "className": "",
        "x": 900,
        "y": 400,
        "wires": []
    },
    {
        "id": "0cd4edd44640a93a",
        "type": "ui_chart",
        "z": "1b1750f2d5c4d92c",
        "g": "668f8bd4cf42ccfa",
        "name": "",
        "group": "55013c025ab2c61e",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "A3",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#2d8dd2",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 900,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "c1fecc3a8adb461f",
        "type": "link in",
        "z": "1b1750f2d5c4d92c",
        "g": "e6fbe603ae087133",
        "name": "state mashine dashboard",
        "links": [
            "1e2b45a776c1f40b"
        ],
        "x": 855,
        "y": 540,
        "wires": [
            [
                "8499a6cbb165cc05",
                "31f461edc6a1512f"
            ]
        ]
    },
    {
        "id": "8a1eda09ace06dcc",
        "type": "link out",
        "z": "1b1750f2d5c4d92c",
        "g": "c731e70da66a6977",
        "name": "sender",
        "mode": "link",
        "links": [
            "3692ce669cc3eccf"
        ],
        "x": 1035,
        "y": 80,
        "wires": []
    },
    {
        "id": "7d60f58e82734ec0",
        "type": "catch",
        "z": "1b1750f2d5c4d92c",
        "g": "c731e70da66a6977",
        "name": "",
        "scope": null,
        "uncaught": true,
        "x": 820,
        "y": 80,
        "wires": [
            [
                "8a1eda09ace06dcc",
                "31e69947adc70fb7"
            ]
        ]
    },
    {
        "id": "31e69947adc70fb7",
        "type": "debug",
        "z": "1b1750f2d5c4d92c",
        "g": "c731e70da66a6977",
        "name": "debug all",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 990,
        "y": 120,
        "wires": []
    },
    {
        "id": "9bbd5c89f991e180",
        "type": "ui_gauge",
        "z": "1b1750f2d5c4d92c",
        "g": "5f8c1a0ad7ca8afa",
        "name": "",
        "group": "d1197a6f8512dcae",
        "order": 1,
        "width": 2,
        "height": 3,
        "gtype": "donut",
        "title": "Dallas 1",
        "label": "",
        "format": "{{msg.payload | number:2}}°",
        "min": "10",
        "max": "110",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "20",
        "seg2": "86",
        "diff": false,
        "className": "",
        "x": 300,
        "y": 60,
        "wires": []
    },
    {
        "id": "133bab4c41e83d18",
        "type": "ui_chart",
        "z": "1b1750f2d5c4d92c",
        "g": "5f8c1a0ad7ca8afa",
        "name": "",
        "group": "d1197a6f8512dcae",
        "order": 5,
        "width": 6,
        "height": 4,
        "label": "Dallas in Cube",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "100",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 280,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "cec2d7f72766cb3b",
        "type": "link in",
        "z": "1b1750f2d5c4d92c",
        "g": "5f8c1a0ad7ca8afa",
        "name": "dashboard Dallas1",
        "links": [
            "42781cf5aebb38cc"
        ],
        "x": 125,
        "y": 60,
        "wires": [
            [
                "9bbd5c89f991e180",
                "133bab4c41e83d18"
            ]
        ]
    },
    {
        "id": "7c697a86fcafe78e",
        "type": "ui_led",
        "z": "1b1750f2d5c4d92c",
        "g": "5f8c1a0ad7ca8afa",
        "order": 2,
        "group": "d1197a6f8512dcae",
        "width": 3,
        "height": 1,
        "label": "GPIO 27 (30A)",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": false,
        "name": "",
        "x": 310,
        "y": 140,
        "wires": []
    },
    {
        "id": "4cb622504ace93de",
        "type": "link in",
        "z": "1b1750f2d5c4d92c",
        "g": "5f8c1a0ad7ca8afa",
        "name": "For GPIO27 led",
        "links": [
            "b6f963d84ae742b5"
        ],
        "x": 205,
        "y": 140,
        "wires": [
            [
                "7c697a86fcafe78e",
                "1dd706b93d69b5ad"
            ]
        ]
    },
    {
        "id": "599f67face796044",
        "type": "link in",
        "z": "1b1750f2d5c4d92c",
        "g": "19db234be3bf5502",
        "name": "for GPIO 22 (12V)",
        "links": [
            "9dd4dcce5708657e"
        ],
        "x": 185,
        "y": 580,
        "wires": [
            [
                "99b286bd9198d383",
                "95bf533bf972da45"
            ]
        ]
    },
    {
        "id": "2488e07ce098103b",
        "type": "link in",
        "z": "1b1750f2d5c4d92c",
        "g": "e8c22d7ac225993a",
        "name": "for GPIO 22 (12V)",
        "links": [
            "dd602e441e160e66"
        ],
        "x": 225,
        "y": 360,
        "wires": [
            [
                "51c1bd86215076cd",
                "ca41f707ceaab070"
            ]
        ]
    },
    {
        "id": "51c1bd86215076cd",
        "type": "ui_led",
        "z": "1b1750f2d5c4d92c",
        "g": "e8c22d7ac225993a",
        "order": 2,
        "group": "4d56de2073491c0e",
        "width": 3,
        "height": 1,
        "label": "GPIO 24 (12V)",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 330,
        "y": 360,
        "wires": []
    },
    {
        "id": "99b286bd9198d383",
        "type": "ui_led",
        "z": "1b1750f2d5c4d92c",
        "g": "19db234be3bf5502",
        "order": 2,
        "group": "0e2a4779b30f697b",
        "width": 3,
        "height": 1,
        "label": "GPIO 22 (12V)",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 290,
        "y": 580,
        "wires": []
    },
    {
        "id": "8499a6cbb165cc05",
        "type": "debug",
        "z": "1b1750f2d5c4d92c",
        "g": "e6fbe603ae087133",
        "name": "debug 44",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1000,
        "y": 500,
        "wires": []
    },
    {
        "id": "e2b2cc5e7ac52312",
        "type": "inject",
        "z": "1b1750f2d5c4d92c",
        "g": "5f8c1a0ad7ca8afa",
        "name": "Start",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "1",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 180,
        "wires": [
            [
                "1dd706b93d69b5ad"
            ]
        ]
    },
    {
        "id": "fa25915314fbaefb",
        "type": "ui_template",
        "z": "1b1750f2d5c4d92c",
        "g": "5f8c1a0ad7ca8afa",
        "group": "d1197a6f8512dcae",
        "name": "",
        "order": 4,
        "width": 4,
        "height": 2,
        "format": "<!-- <div ng-bind-html=\"msg.payload\"></div> -->\n\n<div layout=\"row\" layout-align=\"right\">\n    <span flex>t° Min</span>\n    <span flex style=\"color: blue\">{{msg.payload.min}}°</span>\n</div>\n<div layout=\"row\" layout-align=\"start right\">\n    <span flex>   t° Max</span>\n    <span flex style=\"color: red\">{{msg.payload.max}}°</span>\n</div>\n<div layout=\"row\" layout-align=\"end right\">\n    <span flex>   Автоматика </span>\n    <span flex style=\"color: orange\">{{msg.payload.isAuto}}</span>\n</div>\n<div layout=\"row\" layout-align=\"start right\">\n    <span flex>   Тип</span>\n    <span flex style=\"color: green\">{{msg.payload.upDownType}}</span>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 520,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "1dd706b93d69b5ad",
        "type": "function",
        "z": "1b1750f2d5c4d92c",
        "g": "5f8c1a0ad7ca8afa",
        "name": "get from global",
        "func": "msg.topic = \"1\";\nmsg.payload = {\n    isAuto: global.get(msg.topic + \"IsAutoType\", \"file\"),\n    min: Number(global.get(msg.topic + \"TemperatureMin\", \"file\")),\n    max: Number(global.get(msg.topic + \"TemperatureMax\", \"file\")),\n    upDownType: Boolean(global.get(msg.topic + \"UpDownType\", \"file\") ? \"подогрев\" : \"остужение\")\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 180,
        "wires": [
            [
                "fa25915314fbaefb",
                "02c09a49192fb54f"
            ]
        ]
    },
    {
        "id": "e33339f13d1cdf54",
        "type": "inject",
        "z": "1b1750f2d5c4d92c",
        "g": "e8c22d7ac225993a",
        "name": "Start",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "2",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 400,
        "wires": [
            [
                "ca41f707ceaab070"
            ]
        ]
    },
    {
        "id": "68b209f7fee83449",
        "type": "ui_template",
        "z": "1b1750f2d5c4d92c",
        "g": "e8c22d7ac225993a",
        "group": "4d56de2073491c0e",
        "name": "",
        "order": 4,
        "width": 4,
        "height": 2,
        "format": "<!-- <div ng-bind-html=\"msg.payload\"></div> -->\n\n<div layout=\"row\" layout-align=\"right\">\n    <span flex>t° Min</span>\n    <span flex style=\"color: blue\">{{msg.payload.min}}°</span>\n</div>\n<div layout=\"row\" layout-align=\"start right\">\n    <span flex>   t° Max</span>\n    <span flex style=\"color: red\">{{msg.payload.max}}°</span>\n</div>\n<div layout=\"row\" layout-align=\"end right\">\n    <span flex>   Автоматика </span>\n    <span flex style=\"color: orange\">{{msg.payload.isAuto}}</span>\n</div>\n<div layout=\"row\" layout-align=\"start right\">\n    <span flex>   Тип</span>\n    <span flex style=\"color: green\">{{msg.payload.upDownType}}</span>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 500,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "ca41f707ceaab070",
        "type": "function",
        "z": "1b1750f2d5c4d92c",
        "g": "e8c22d7ac225993a",
        "name": "get from global",
        "func": "msg.topic = \"2\";\nmsg.payload = {\n    isAuto: global.get(msg.topic + \"IsAutoType\", \"file\"),\n    min: Number(global.get(msg.topic + \"TemperatureMin\", \"file\")),\n    max: Number(global.get(msg.topic + \"TemperatureMax\", \"file\")),\n    upDownType: Boolean(global.get(msg.topic + \"UpDownType\", \"file\") ? \"подогрев\" : \"остужение\")\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 400,
        "wires": [
            [
                "68b209f7fee83449"
            ]
        ]
    },
    {
        "id": "a8c75df2867e0e67",
        "type": "inject",
        "z": "1b1750f2d5c4d92c",
        "g": "19db234be3bf5502",
        "name": "Start",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "3",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 620,
        "wires": [
            [
                "95bf533bf972da45"
            ]
        ]
    },
    {
        "id": "5c2a4386443abb59",
        "type": "ui_template",
        "z": "1b1750f2d5c4d92c",
        "g": "19db234be3bf5502",
        "group": "0e2a4779b30f697b",
        "name": "",
        "order": 4,
        "width": 4,
        "height": 2,
        "format": "<!-- <div ng-bind-html=\"msg.payload\"></div> -->\n\n<div layout=\"row\" layout-align=\"right\">\n    <span flex>t° Min</span>\n    <span flex style=\"color: blue\">{{msg.payload.min}}°</span>\n</div>\n<div layout=\"row\" layout-align=\"start right\">\n    <span flex>   t° Max</span>\n    <span flex style=\"color: red\">{{msg.payload.max}}°</span>\n</div>\n<div layout=\"row\" layout-align=\"end right\">\n    <span flex>   Автоматика </span>\n    <span flex style=\"color: orange\">{{msg.payload.isAuto}}</span>\n</div>\n<div layout=\"row\" layout-align=\"start right\">\n    <span flex>   Тип</span>\n    <span flex style=\"color: green\">{{msg.payload.upDownType}}</span>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 500,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "95bf533bf972da45",
        "type": "function",
        "z": "1b1750f2d5c4d92c",
        "g": "19db234be3bf5502",
        "name": "get from global",
        "func": "msg.topic = \"3\";\nmsg.payload = {\n    isAuto: global.get(msg.topic + \"IsAutoType\", \"file\"),\n    min: Number(global.get(msg.topic + \"TemperatureMin\", \"file\")),\n    max: Number(global.get(msg.topic + \"TemperatureMax\", \"file\")),\n    upDownType: Boolean(global.get(msg.topic + \"UpDownType\", \"file\") ? \"подогрев\" : \"остужение\")\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 620,
        "wires": [
            [
                "5c2a4386443abb59"
            ]
        ]
    },
    {
        "id": "02c09a49192fb54f",
        "type": "debug",
        "z": "1b1750f2d5c4d92c",
        "g": "5f8c1a0ad7ca8afa",
        "name": "debug 45",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 140,
        "wires": []
    },
    {
        "id": "97c64e0c8682e1e1",
        "type": "ui_text",
        "z": "1b1750f2d5c4d92c",
        "g": "e6fbe603ae087133",
        "group": "7060957109fdbc8f",
        "order": 1,
        "width": "0",
        "height": "0",
        "name": "время",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "col-center",
        "className": "",
        "style": true,
        "font": "Tahoma,Geneva,sans-serif",
        "fontSize": "34",
        "color": "#98a1c3",
        "x": 1140,
        "y": 600,
        "wires": []
    },
    {
        "id": "5b3ff5420e8190b6",
        "type": "function",
        "z": "1b1750f2d5c4d92c",
        "g": "e6fbe603ae087133",
        "name": "Get date(\"HH:mm:ss\")",
        "func": "var date = new Date(msg.payload);\n//date.setUTCHours(-3);\nmsg.payload = date.toLocaleTimeString('ru-RU');\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 970,
        "y": 600,
        "wires": [
            [
                "97c64e0c8682e1e1"
            ]
        ]
    },
    {
        "id": "cc7e7cae4c9ed8bd",
        "type": "inject",
        "z": "1b1750f2d5c4d92c",
        "g": "e6fbe603ae087133",
        "name": "1 s",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "v": "first",
                "vt": "global"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 800,
        "y": 600,
        "wires": [
            [
                "5b3ff5420e8190b6"
            ]
        ]
    },
    {
        "id": "31f461edc6a1512f",
        "type": "ui_text",
        "z": "1b1750f2d5c4d92c",
        "g": "e6fbe603ae087133",
        "group": "7060957109fdbc8f",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Состояние",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1080,
        "y": 540,
        "wires": []
    },
    {
        "id": "321b9ce3e96c0e00",
        "type": "rpi-ds18b20",
        "z": "69390556a5a91fee",
        "g": "c5d8b32adacb3df1",
        "topic": "",
        "array": true,
        "name": "t° 18b20",
        "x": 340,
        "y": 100,
        "wires": [
            [
                "10955eec2b13798a",
                "c11697d25739f3c5"
            ]
        ]
    },
    {
        "id": "10955eec2b13798a",
        "type": "function",
        "z": "69390556a5a91fee",
        "g": "c5d8b32adacb3df1",
        "name": "split",
        "func": "var arrRes = new Array();\n\nfor (let index = 0; index < msg.payload.length; index++) {\n    const element = msg.payload[index];\n    arrRes[index] = \n    {\n        payload: Number(element.temp).toFixed(5),\n        value: Number(element.temp).toFixed(5)\n    };\n    switch (index) {\n        case 0:\n            arrRes[index].topic = 1; // основной\n            break;\n        case 1:\n            arrRes[index].topic = 6; // запаска 1\n            break;\n        case 2:\n            arrRes[index].topic = 7; // запаска 2\n            break;\n        case 3:\n            arrRes[index].topic = 8; // запаска 3\n            break;\n    }\n}\nreturn arrRes;",
        "outputs": 4,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 150,
        "y": 180,
        "wires": [
            [
                "8ab4a8d978833a85"
            ],
            [
                "3dfcef3b9d9315b7",
                "5a71b5507adbec06"
            ],
            [],
            []
        ]
    },
    {
        "id": "3dfcef3b9d9315b7",
        "type": "ui_gauge",
        "z": "69390556a5a91fee",
        "g": "56a0451bf235f336",
        "name": "",
        "group": "bf8e3a22ec139fc3",
        "order": 5,
        "width": 3,
        "height": 3,
        "gtype": "donut",
        "title": "second",
        "label": "",
        "format": "{{msg.value | number:2}}°",
        "min": "10",
        "max": "110",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "20",
        "seg2": "86",
        "diff": true,
        "className": "",
        "x": 540,
        "y": 240,
        "wires": []
    },
    {
        "id": "bf2f7e9f52b48dd5",
        "type": "ads1x15_i2c",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "property": "payload",
        "name": "",
        "i2c_device_number": 1,
        "chip": "0x01",
        "i2c_address": "0x48",
        "inputsForChannel": "singleEnded",
        "singleEndedChannel0": true,
        "singleEndedChannel1": true,
        "singleEndedChannel2": true,
        "singleEndedChannel3": true,
        "differentialChannel0_1": true,
        "differentialChannel0_3": true,
        "differentialChannel1_3": true,
        "differentialChannel2_3": true,
        "samplesPerSecond0": "920",
        "samplesPerSecond1": "32",
        "progGainAmp": "4096",
        "x": 790,
        "y": 160,
        "wires": [
            [
                "297f52de14825c53",
                "87edb5ffda3b4f68"
            ]
        ]
    },
    {
        "id": "297f52de14825c53",
        "type": "function",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "сплитуем",
        "func": "return [      \n    { payload: msg.payload[\"/dev/i2c-1\"].ads1115[\"0x48\"].singleEnded.channel_0.miliVolts, topic: 2, title : \"Colonna  \"}, // output 1\n    { payload: msg.payload[\"/dev/i2c-1\"].ads1115[\"0x48\"].singleEnded.channel_1.miliVolts, topic: 3, title : \"Water    \"}, // output 2\n    { payload: msg.payload[\"/dev/i2c-1\"].ads1115[\"0x48\"].singleEnded.channel_2.miliVolts, topic: 4, title : \"addition \"}, // output 3\n    { payload: msg.payload[\"/dev/i2c-1\"].ads1115[\"0x48\"].singleEnded.channel_3.miliVolts, topic: 5, title : \"addition \"}, // output 4\n];",
        "outputs": 4,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 960,
        "y": 140,
        "wires": [
            [
                "850b4cb49adb38c1"
            ],
            [
                "850b4cb49adb38c1"
            ],
            [
                "850b4cb49adb38c1"
            ],
            [
                "850b4cb49adb38c1"
            ]
        ]
    },
    {
        "id": "7976f91d43cad411",
        "type": "link out",
        "z": "69390556a5a91fee",
        "g": "c8f91c7ee8a66a9b",
        "name": "sender",
        "mode": "link",
        "links": [
            "3692ce669cc3eccf"
        ],
        "x": 415,
        "y": 460,
        "wires": []
    },
    {
        "id": "5444de1928c03a79",
        "type": "catch",
        "z": "69390556a5a91fee",
        "g": "c8f91c7ee8a66a9b",
        "name": "",
        "scope": null,
        "uncaught": true,
        "x": 170,
        "y": 460,
        "wires": [
            [
                "7976f91d43cad411",
                "73a7185ef687f26e"
            ]
        ]
    },
    {
        "id": "5a71b5507adbec06",
        "type": "ui_chart",
        "z": "69390556a5a91fee",
        "g": "56a0451bf235f336",
        "name": "",
        "group": "bf8e3a22ec139fc3",
        "order": 2,
        "width": 6,
        "height": 3,
        "label": "2",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "20",
        "ymax": "25",
        "removeOlder": "30",
        "removeOlderPoints": "100",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 530,
        "y": 280,
        "wires": [
            []
        ]
    },
    {
        "id": "8ab4a8d978833a85",
        "type": "function",
        "z": "69390556a5a91fee",
        "g": "c5d8b32adacb3df1",
        "name": "Avrg 1",
        "func": "var capacityArr = 20;\nvar strTopic = msg.topic;\nvar arr = flow.get(\"arr\" + strTopic);\nvar indx = flow.get(\"indx\" + strTopic);\nif (arr == null) \n{\n    arr = new Float32Array(10);\n    indx = 0;\n}\narr[indx] = Number(msg.payload);\nindx++;\nif(indx >= capacityArr){\n    indx = 0;\n}\n\nvar summ = 0;\nvar count = 0;\nfor (let i = 0; i < arr.length; i++) {\n    var element = arr[i];\n    if (element != 0)\n    {\n        summ +=element;\n        count ++;\n    }\n}\n\nflow.set(\"arr\" + strTopic, arr);\nflow.set(\"indx\" + strTopic, indx);\nmsg.payload = (summ/count).toFixed(5);\nglobal.set(strTopic + \"CurrentTemperature\",msg.payload, \"file\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 160,
        "wires": [
            [
                "42781cf5aebb38cc",
                "0f8e1cf435d9f059"
            ]
        ]
    },
    {
        "id": "22b1c2655377344a",
        "type": "function",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "Recalc => t°",
        "func": "if(msg == null || msg.payload == null)\n{\n    return null;\n}\nvar Bx = 2725 // global.get('SensorsBx');\n\nif(Bx===undefined)\n{\n    Bx = 2725\n}\n\nmsg.Bx = Bx;\n\nvar vol = Number(msg.payload)\nmsg.Raw = vol\nvar Ka = 237.15\nvar T2 = Ka + 25\nvar Rp = 10000\nvar Rt = (3300-vol)*Rp/vol\nmsg.degree = 1/(Math.log(Rt/Rp)/Bx + 1 / T2) - Ka + 0.5\nmsg.payload = msg.title + \"  \" + msg.degree.toFixed(2) + \" °\";\nreturn [\n    {\n        payload: msg.degree.toFixed(5),\n        topic: msg.topic\n    },\n    msg\n];",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 810,
        "y": 260,
        "wires": [
            [
                "fad6b9b31fae1d3b",
                "c49fbb9bb905de8b"
            ],
            [
                "8ed55302a47e3aeb"
            ]
        ],
        "info": "фактически скользящая средняя за 5 значений получается\r\nна выход разделяем данные, для стрелочки 2 знака после зпт\r\nдля графика 5 знаков\r\nдля oled экрана важно title с номером строки отображения и форматированным числом"
    },
    {
        "id": "f3db6f8821f81eeb",
        "type": "inject",
        "z": "69390556a5a91fee",
        "g": "c5d8b32adacb3df1",
        "name": "Run 12сек",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "12",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 100,
        "wires": [
            [
                "321b9ce3e96c0e00"
            ]
        ]
    },
    {
        "id": "bfcc300f14676a78",
        "type": "inject",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "Run 10 сек",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 790,
        "y": 100,
        "wires": [
            [
                "bf2f7e9f52b48dd5"
            ]
        ]
    },
    {
        "id": "247b176475dd290a",
        "type": "link out",
        "z": "69390556a5a91fee",
        "g": "c5d8b32adacb3df1",
        "name": "t° в кубе -> OLED",
        "mode": "link",
        "links": [
            "8144d31cbdf6d265"
        ],
        "x": 615,
        "y": 160,
        "wires": []
    },
    {
        "id": "8ed55302a47e3aeb",
        "type": "link out",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "t° воды охлаждения",
        "mode": "link",
        "links": [
            "8144d31cbdf6d265"
        ],
        "x": 965,
        "y": 320,
        "wires": []
    },
    {
        "id": "850b4cb49adb38c1",
        "type": "function",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "avg",
        "func": "if(msg.payload===undefined || msg.payload == \"ADC is busy...\"){\n    return msg.payload = null;\n}\n\nvar capacityArr = 6;\nvar strTopic = String(msg.topic);\n\nvar arr = flow.get(\"arr\" + strTopic, \"\");\nvar indx = flow.get(\"indx\" + strTopic);\nif (arr == null) {\n    arr = new Float32Array(capacityArr);\n    indx = 0;\n}\n\narr[indx] = Number(msg.payload);\nindx++;\nif(indx >= capacityArr){\n    indx = 0;\n}\n\nvar summ = 0;\nvar count = 0;\nfor (let i = 0; i < arr.length; i++) {\n    var element = arr[i];\n    if (element > 600) { // < 0.6В это значит не считалось\n        summ += element;\n        count ++;\n    }\n}\n\nflow.set(\"arr\" + strTopic, arr);\nflow.set(\"indx\" + strTopic, indx);\nmsg.payload = summ/count;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1130,
        "y": 120,
        "wires": [
            [
                "22b1c2655377344a"
            ]
        ],
        "info": "фактически скользящая средняя за 5 значений получается\r\nна выход разделяем данные, для стрелочки 2 знака после зпт\r\nдля графика 5 знаков\r\nдля oled экрана важно title с номером строки отображения и форматированным числом"
    },
    {
        "id": "fad6b9b31fae1d3b",
        "type": "function",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "switcher [2..5]",
        "func": "\nswitch(Number(msg.topic))\n{\n    case 2:\n        return[\n            msg,\n            ,\n            ,\n        ];\n    case 3:\n        return[\n            ,\n            msg,\n            ,\n            ,\n        ];\n    case 4:\n        return[\n            ,\n            ,\n            msg,\n        ];\n    case 5:\n        return[\n            ,\n            ,\n            ,\n            msg                \n        ];            \n}",
        "outputs": 4,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1020,
        "y": 260,
        "wires": [
            [
                "eac209c032de65d0"
            ],
            [
                "74ece3f8c8fd8eab"
            ],
            [
                "ad0c795142b92858"
            ],
            [
                "68190e5c8effab01"
            ]
        ]
    },
    {
        "id": "c295bb37b4536bee",
        "type": "comment",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "Для управления реле надо передать параметры",
        "info": "1. title - номер температурного датчика (см далее)\n2. volume - температура текущего значения\n\nдатчики имеют такие цифровые описания: \n1. - Dallas датчик \n2. - датчик аналогового пина A0\n3. - датчик аналогового пина A1\n4. - датчик аналогового пина A2\n5. - датчик аналогового пина A3\n6. - Dallas датчик второй, если будет установлен\n\nГде то надо описать таблицу соответсвия датчик = пин управления",
        "x": 890,
        "y": 360,
        "wires": []
    },
    {
        "id": "74ece3f8c8fd8eab",
        "type": "link out",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "t° A1",
        "mode": "link",
        "links": [
            "045b8115cf0bb463"
        ],
        "x": 1215,
        "y": 240,
        "wires": []
    },
    {
        "id": "eac209c032de65d0",
        "type": "link out",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "t° A0",
        "mode": "link",
        "links": [
            "062dd309a896db02",
            "35bff8c90f951338"
        ],
        "x": 1165,
        "y": 220,
        "wires": []
    },
    {
        "id": "ad0c795142b92858",
        "type": "link out",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "t° A2",
        "mode": "link",
        "links": [
            "5798d8793c30b95c"
        ],
        "x": 1215,
        "y": 280,
        "wires": []
    },
    {
        "id": "68190e5c8effab01",
        "type": "link out",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "t° A3",
        "mode": "link",
        "links": [
            "35b75dc6fa93776d"
        ],
        "x": 1165,
        "y": 300,
        "wires": []
    },
    {
        "id": "42781cf5aebb38cc",
        "type": "link out",
        "z": "69390556a5a91fee",
        "g": "c5d8b32adacb3df1",
        "name": "t° в кубе (dallas1)",
        "mode": "link",
        "links": [
            "19459d2f0bdff8cb",
            "69a17e758d2d83f5",
            "cec2d7f72766cb3b"
        ],
        "x": 595,
        "y": 100,
        "wires": []
    },
    {
        "id": "0f8e1cf435d9f059",
        "type": "function",
        "z": "69390556a5a91fee",
        "g": "c5d8b32adacb3df1",
        "name": "For OLED",
        "func": "msg.payload = \"In cube    \" + Number(msg.payload).toFixed(2) + \" °  \";\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 160,
        "wires": [
            [
                "247b176475dd290a"
            ]
        ]
    },
    {
        "id": "73a7185ef687f26e",
        "type": "debug",
        "z": "69390556a5a91fee",
        "g": "c8f91c7ee8a66a9b",
        "name": "debug all",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 340,
        "y": 500,
        "wires": []
    },
    {
        "id": "c49fbb9bb905de8b",
        "type": "link out",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "analogs",
        "mode": "link",
        "links": [
            "19459d2f0bdff8cb"
        ],
        "x": 1025,
        "y": 200,
        "wires": []
    },
    {
        "id": "c11697d25739f3c5",
        "type": "debug",
        "z": "69390556a5a91fee",
        "g": "c5d8b32adacb3df1",
        "name": "debug 49",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 260,
        "y": 300,
        "wires": []
    },
    {
        "id": "87edb5ffda3b4f68",
        "type": "debug",
        "z": "69390556a5a91fee",
        "g": "73c5870f75622fe0",
        "name": "debug 50",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 790,
        "y": 300,
        "wires": []
    },
    {
        "id": "12619ff6dc9ff25c",
        "type": "ui_text_input",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "",
        "label": "Минимум",
        "tooltip": "",
        "group": "d4e8ef92094e0c11",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 720,
        "y": 200,
        "wires": [
            [
                "0c021d31742fa19a"
            ]
        ]
    },
    {
        "id": "728f3554a973baab",
        "type": "inject",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "1",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "1",
        "x": 110,
        "y": 260,
        "wires": [
            [
                "6c544b151d4ca137",
                "614a035500daafd3",
                "4df882c2bec0eeaf",
                "b634d2db94e2935f"
            ]
        ]
    },
    {
        "id": "c2ba68fca1a350df",
        "type": "ui_text_input",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "",
        "label": "Максимум",
        "tooltip": "",
        "group": "d4e8ef92094e0c11",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 710,
        "y": 240,
        "wires": [
            [
                "0c021d31742fa19a"
            ]
        ]
    },
    {
        "id": "f40aa3b089b9557e",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "get default 0",
        "func": "var res = global.get(msg.topic, 'file');\nif(res === undefined)\n    res = 0\nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 430,
        "y": 200,
        "wires": [
            [
                "12619ff6dc9ff25c"
            ]
        ]
    },
    {
        "id": "bb5c81d1cc65154a",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "get default 98",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = 98\nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 240,
        "wires": [
            [
                "c2ba68fca1a350df"
            ]
        ]
    },
    {
        "id": "6c544b151d4ca137",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "+min",
        "func": "msg.topic += 'TemperatureMin'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 200,
        "wires": [
            [
                "f40aa3b089b9557e"
            ]
        ]
    },
    {
        "id": "614a035500daafd3",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "+max",
        "func": "msg.topic += 'TemperatureMax'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 240,
        "wires": [
            [
                "bb5c81d1cc65154a"
            ]
        ]
    },
    {
        "id": "c0b2806be99caf07",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "get default UpOrDown",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = true // 0 = up(на охлаждение), 1 = down(на отогрев) \nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 280,
        "wires": [
            [
                "9f3b01a20033b654"
            ]
        ]
    },
    {
        "id": "4df882c2bec0eeaf",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "+UpDownType",
        "func": "msg.topic += 'UpDownType'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 280,
        "wires": [
            [
                "c0b2806be99caf07"
            ]
        ]
    },
    {
        "id": "9f3b01a20033b654",
        "type": "ui_multistate_switch",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "",
        "group": "d4e8ef92094e0c11",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "Охлаж",
                "value": "false",
                "valueType": "bool",
                "color": "#009933"
            },
            {
                "label": "Нагрев",
                "value": "true",
                "valueType": "bool",
                "color": "#999999"
            }
        ],
        "topic": "1UpDownType",
        "x": 700,
        "y": 280,
        "wires": [
            [
                "0c021d31742fa19a"
            ]
        ]
    },
    {
        "id": "47d1528da730f0a5",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "get default IsAutoType",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = 'auto' // 0 = auto, 1 = on, 2 - off \nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 320,
        "wires": [
            [
                "d07bf545c073aeae"
            ]
        ]
    },
    {
        "id": "b634d2db94e2935f",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "+IsAutoType",
        "func": "msg.topic += 'IsAutoType'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 320,
        "wires": [
            [
                "47d1528da730f0a5"
            ]
        ]
    },
    {
        "id": "d07bf545c073aeae",
        "type": "ui_multistate_switch",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "",
        "group": "d4e8ef92094e0c11",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "авто.",
                "value": "auto",
                "valueType": "str",
                "color": "#009933"
            },
            {
                "label": "вкл. ",
                "value": "on",
                "valueType": "str",
                "color": "#999999"
            },
            {
                "label": "выкл.",
                "value": "off",
                "valueType": "str",
                "color": "#ff6666"
            }
        ],
        "topic": "1IsAutoType",
        "x": 700,
        "y": 320,
        "wires": [
            [
                "0c021d31742fa19a"
            ]
        ]
    },
    {
        "id": "cea16552c2645a5b",
        "type": "ui_text_input",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "",
        "label": "Минимум",
        "tooltip": "",
        "group": "77b399c1a35759fc",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 720,
        "y": 420,
        "wires": [
            [
                "767b26a74640709e"
            ]
        ]
    },
    {
        "id": "bed8b1a698097c77",
        "type": "inject",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "2",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "2",
        "x": 110,
        "y": 480,
        "wires": [
            [
                "ed683e7a1dc9acc2",
                "48be7707fbfd218a",
                "49cd621a58436a00",
                "42d9282f89b6e5a5"
            ]
        ]
    },
    {
        "id": "b4ab6c8631d5b34f",
        "type": "ui_text_input",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "",
        "label": "Максимум",
        "tooltip": "",
        "group": "77b399c1a35759fc",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 710,
        "y": 460,
        "wires": [
            [
                "767b26a74640709e"
            ]
        ]
    },
    {
        "id": "3f0a0d368ccb7664",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "get default 86",
        "func": "var res = global.get(msg.topic, 'file');\nif(res === undefined)\n    res = 86\nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 420,
        "wires": [
            [
                "cea16552c2645a5b"
            ]
        ]
    },
    {
        "id": "d4acc5aa71b9ec45",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "get default 86",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = 86.5\nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 460,
        "wires": [
            [
                "b4ab6c8631d5b34f"
            ]
        ]
    },
    {
        "id": "ed683e7a1dc9acc2",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "+min",
        "func": "msg.topic += 'TemperatureMin'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 420,
        "wires": [
            [
                "3f0a0d368ccb7664"
            ]
        ]
    },
    {
        "id": "48be7707fbfd218a",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "+max",
        "func": "msg.topic += 'TemperatureMax'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 460,
        "wires": [
            [
                "d4acc5aa71b9ec45"
            ]
        ]
    },
    {
        "id": "42f7bbafeae53f5d",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "get default UpOrDown",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = false // 0 = up(на охлаждение), 1 = down(на отогрев) \nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 500,
        "wires": [
            [
                "98e244df847f1cd8"
            ]
        ]
    },
    {
        "id": "49cd621a58436a00",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "+UpDownType",
        "func": "msg.topic += 'UpDownType'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 500,
        "wires": [
            [
                "42f7bbafeae53f5d"
            ]
        ]
    },
    {
        "id": "98e244df847f1cd8",
        "type": "ui_multistate_switch",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "",
        "group": "77b399c1a35759fc",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "Охлаж",
                "value": "false",
                "valueType": "bool",
                "color": "#009933"
            },
            {
                "label": "Нагрев",
                "value": "true",
                "valueType": "bool",
                "color": "#999999"
            }
        ],
        "topic": "2UpDownType",
        "x": 700,
        "y": 500,
        "wires": [
            [
                "767b26a74640709e"
            ]
        ]
    },
    {
        "id": "42d9282f89b6e5a5",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "+IsAutoType",
        "func": "msg.topic += 'IsAutoType'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 540,
        "wires": [
            [
                "7b504fa562d3be08"
            ]
        ]
    },
    {
        "id": "7b504fa562d3be08",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "get default IsAutoType",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = 'auto' // 0 = auto, 1 = on, 2 - off \nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 540,
        "wires": [
            [
                "25df1cd13ce7bb4a"
            ]
        ]
    },
    {
        "id": "25df1cd13ce7bb4a",
        "type": "ui_multistate_switch",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "",
        "group": "77b399c1a35759fc",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "авто.",
                "value": "auto",
                "valueType": "str",
                "color": "#009933"
            },
            {
                "label": "вкл. ",
                "value": "on",
                "valueType": "str",
                "color": "#999999"
            },
            {
                "label": "выкл.",
                "value": "off",
                "valueType": "str",
                "color": "#ff6666"
            }
        ],
        "topic": "2IsAutoType",
        "x": 700,
        "y": 540,
        "wires": [
            [
                "767b26a74640709e"
            ]
        ]
    },
    {
        "id": "a5fe9d0f7ad6a0ee",
        "type": "link in",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "Set status State machine",
        "links": [],
        "x": 255,
        "y": 1240,
        "wires": [
            [
                "3a3aab476b5c1a93"
            ]
        ]
    },
    {
        "id": "67685377850bfae8",
        "type": "ui_audio",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "audio player",
        "group": "840f55649a14afa5",
        "voice": "Microsoft Irina - Russian (Russia)",
        "always": true,
        "x": 930,
        "y": 1280,
        "wires": []
    },
    {
        "id": "a37412cc2382df3b",
        "type": "link in",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "link in audio speaker",
        "links": [
            "a1b3c8bf1d994d47"
        ],
        "x": 795,
        "y": 1240,
        "wires": [
            [
                "67685377850bfae8"
            ]
        ]
    },
    {
        "id": "77127fc1e1b9c16a",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "Audio retranslator",
        "func": "switch(msg.payload){\n    case \"Stop\":\n        msg.payload = \"Стоп машина! Отдать швартовый!\";\n        break;\n    case \"Warm\":\n        msg.payload = \"Ключ на старт! Прогрев всех систем!\";\n        break;\n    case \"Heads\":\n        msg.payload = \"Свистать всех наверх! Головы пошли.\";\n        break;\n    case \"Body\":\n        msg.payload = \"Поехали. Начинаем отбор тела.\";\n        break; \n    case \"Tails\":\n        msg.payload = \"ТАБАНЬ!!! Хвосты пошли, вентиль крути, да-да вот тот...\";\n        break;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 730,
        "y": 1280,
        "wires": [
            [
                "67685377850bfae8"
            ]
        ],
        "inputLabels": [
            "en"
        ],
        "outputLabels": [
            "ru"
        ],
        "icon": "node-red/switch.svg"
    },
    {
        "id": "051c8c1c09216cb8",
        "type": "change",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "En->Ru",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "Stop",
                "fromt": "str",
                "to": "CTOn   ",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "Warm",
                "fromt": "str",
                "to": "HA7PEB ",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "Tails",
                "fromt": "str",
                "to": "XBOCTbl",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "Heads",
                "fromt": "str",
                "to": "7O^OBbl",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "Body",
                "fromt": "str",
                "to": "TE^O   ",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 1320,
        "wires": [
            [
                "1e2b45a776c1f40b",
                "d628b2b52fe8c28f"
            ]
        ]
    },
    {
        "id": "1e2b45a776c1f40b",
        "type": "link out",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "state machine по-русски",
        "mode": "link",
        "links": [
            "3692ce669cc3eccf",
            "a2bd41641f3f0235",
            "c1fecc3a8adb461f"
        ],
        "x": 825,
        "y": 1320,
        "wires": []
    },
    {
        "id": "a181fa0173df9933",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "get state",
        "func": "msg.topic = 'StateMachine';\nvar savedState = global.get(msg.topic, 'file');\nif(savedState === undefined)\n{\n    savedState = 'Warm';\n    global.set(msg.topic, savedState, 'file');\n}\nmsg.payload = savedState;\nmsg.title = 0;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 1300,
        "wires": [
            [
                "3a3aab476b5c1a93"
            ]
        ]
    },
    {
        "id": "43f0b3836ed4f1ca",
        "type": "inject",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "S",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "StateMachine",
        "payload": "Warm",
        "payloadType": "str",
        "x": 110,
        "y": 1280,
        "wires": [
            [
                "a181fa0173df9933"
            ]
        ]
    },
    {
        "id": "87f930b8710e94c9",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "Save",
        "func": "global.set(msg.topic, msg.payload, 'file');\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "87088b0a3bb7a69a",
        "type": "inject",
        "z": "689525d2b0418bc9",
        "g": "9aa4b0bba078587c",
        "name": "Run",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "SensorToGPIOs",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 60,
        "wires": [
            [
                "83ca7f8c65331869"
            ]
        ]
    },
    {
        "id": "83ca7f8c65331869",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9aa4b0bba078587c",
        "name": "Get table SensorToGPIOs",
        "func": "msg.SensorToGPIOs = [\n    { sensor: 1, output: 27 }, // реле главного канала 30A\n    { sensor: 2, output: 24 }, // реле клапана отбора 12В\n    { sensor: 3, output: 22 }, // реле подачи воды    12В\n    { sensor: 4, output: 17 }, // Реле модуля 1\n    { sensor: 5, output: 20 }, // Реле модуля 2\n    { sensor: 6, output: 21 }, // Реле модуля 3\n    { sensor: 7, output: 25 }  // охлаждение процессора\n    ];\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 60,
        "wires": [
            [
                "b694343cdfcf3c88"
            ]
        ],
        "info": "## Таблица соответствия сенсоров к GPIO выходам\r\n### Сенсором может выступать просто кнопка включения в интерфейсе\r\n\r\nint SensorId\r\nint GPIO\r\n\r\n - 1 24\r\n - 2 22\r\n - 3\r\n - 4 \r\n - 5\r\n - 6 \r\n - 7"
    },
    {
        "id": "b694343cdfcf3c88",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9aa4b0bba078587c",
        "name": "Save",
        "func": "global.set(msg.topic, msg.SensorToGPIOs, 'file');\nmsg.payload = global.get(msg.topic, 'file');\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "c0196410f2e10167",
        "type": "ui_text_input",
        "z": "689525d2b0418bc9",
        "g": "cf4d54b9a59a6817",
        "name": "",
        "label": "Bx Sensors",
        "tooltip": "Bx Sensors default - 2725 ",
        "group": "d4e8ef92094e0c11",
        "order": 3,
        "width": "2",
        "height": "2",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "fa fa-lx",
        "topicType": "msg",
        "x": 950,
        "y": 60,
        "wires": [
            [
                "d163190cea867fc6"
            ]
        ]
    },
    {
        "id": "d163190cea867fc6",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "cf4d54b9a59a6817",
        "name": "Save SensorsBx",
        "func": "global.set('SensorsBx', msg.payload, 'file');\nmsg.res = global.get('SensorsBx', 'file');\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1150,
        "y": 80,
        "wires": [
            []
        ]
    },
    {
        "id": "02457305f6efe83b",
        "type": "inject",
        "z": "689525d2b0418bc9",
        "g": "cf4d54b9a59a6817",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "Bx",
        "payload": "2725",
        "payloadType": "num",
        "x": 760,
        "y": 100,
        "wires": [
            [
                "c0196410f2e10167"
            ]
        ]
    },
    {
        "id": "6fa0fc29022bc6d0",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9aa4b0bba078587c",
        "name": "LoadSensorsGPIOTable",
        "func": "var array = global.get('SensorToGPIOs', 'file');\nvar res = '<table class=\"table table-dark table-hover\"><thead><tr>  <th scope=\"col\">Sensor №    </th>  <th scope=\"col\">GPIO id</th> </tr></thead> <tbody>';\nfor (let index = 0; index < array.length; index++) {\n    const element = array[index];\n    res += '<tr>'\n        + '<td scope=\"row\">' \n        + element.sensor\n        + '</td><td>' \n        + element.output\n        + '</td></tr>';\n}\nres += '</tbody></table>';  \nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 100,
        "wires": [
            [
                "e73f9cf8c088493f"
            ]
        ]
    },
    {
        "id": "e73f9cf8c088493f",
        "type": "ui_template",
        "z": "689525d2b0418bc9",
        "g": "9aa4b0bba078587c",
        "group": "9d338411b46642c1",
        "name": "Вывод в dashboard",
        "order": 8,
        "width": "4",
        "height": "6",
        "format": "<h2>Соответсвие <div class=\"fa fa-lg fa-table\"></div></h2>\n\n<div class=\"fa fa-lg\" ng-bind-html=\"msg.payload\">\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 520,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "e6b72d664e24b782",
        "type": "inject",
        "z": "689525d2b0418bc9",
        "g": "9aa4b0bba078587c",
        "name": "Run",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1.5",
        "topic": "SensorToGPIOs",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 100,
        "wires": [
            [
                "6fa0fc29022bc6d0"
            ]
        ]
    },
    {
        "id": "3313ca9f9d58ab3e",
        "type": "ui_text_input",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "",
        "label": "Минимум",
        "tooltip": "",
        "group": "783559057c95f8c8",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 700,
        "y": 940,
        "wires": [
            [
                "40700e4e70a61608"
            ]
        ]
    },
    {
        "id": "dd84f00359d3ce17",
        "type": "inject",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "7",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "7",
        "x": 110,
        "y": 1000,
        "wires": [
            [
                "c5e913040a8f1b11",
                "292f4c106897b5bd",
                "273f8e637a7098fc",
                "140f85297af41fb9"
            ]
        ]
    },
    {
        "id": "760adbbf8b7be58a",
        "type": "ui_text_input",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "",
        "label": "Максимум",
        "tooltip": "",
        "group": "783559057c95f8c8",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 690,
        "y": 980,
        "wires": [
            [
                "40700e4e70a61608"
            ]
        ]
    },
    {
        "id": "b221b89b905be9b2",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "get default 40",
        "func": "var res = global.get(msg.topic, 'file');\nif(res === undefined)\n    res = 35\nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 940,
        "wires": [
            [
                "3313ca9f9d58ab3e"
            ]
        ]
    },
    {
        "id": "d0b7280b72bcf4aa",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "get default 50",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = 50\nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 980,
        "wires": [
            [
                "760adbbf8b7be58a"
            ]
        ]
    },
    {
        "id": "c5e913040a8f1b11",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "+min",
        "func": "msg.topic += 'TemperatureMin'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 940,
        "wires": [
            [
                "b221b89b905be9b2"
            ]
        ]
    },
    {
        "id": "292f4c106897b5bd",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "+max",
        "func": "msg.topic += 'TemperatureMax'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 980,
        "wires": [
            [
                "d0b7280b72bcf4aa"
            ]
        ]
    },
    {
        "id": "1b37c34f912d18ac",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "get default UpOrDown",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = false // 0 = up(на охлаждение), 1 = down(на отогрев) \nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 1020,
        "wires": [
            [
                "fee48acc4e6e381b"
            ]
        ]
    },
    {
        "id": "273f8e637a7098fc",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "+UpDownType",
        "func": "msg.topic += 'UpDownType'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 280,
        "y": 1020,
        "wires": [
            [
                "1b37c34f912d18ac"
            ]
        ]
    },
    {
        "id": "fee48acc4e6e381b",
        "type": "ui_multistate_switch",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "",
        "group": "783559057c95f8c8",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "Охлаж",
                "value": "false",
                "valueType": "bool",
                "color": "#009933"
            },
            {
                "label": "Нагрев",
                "value": "true",
                "valueType": "bool",
                "color": "#999999"
            }
        ],
        "topic": "7UpDownType",
        "x": 680,
        "y": 1020,
        "wires": [
            [
                "40700e4e70a61608"
            ]
        ]
    },
    {
        "id": "40700e4e70a61608",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "Save",
        "func": "global.set(msg.topic, msg.payload, 'file');\nmsg.res = global.get(msg.topic, 'file');\nmsg.topic = Number(msg.topic.slice(0,1))\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 1000,
        "wires": [
            [
                "cd3ea60f4145a72b"
            ]
        ]
    },
    {
        "id": "140f85297af41fb9",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "+IsAutoType",
        "func": "msg.topic += 'IsAutoType'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 1060,
        "wires": [
            [
                "965e4d2106f5f50b"
            ]
        ]
    },
    {
        "id": "965e4d2106f5f50b",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "get default IsAutoType",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = 'auto' // 0 = auto, 1 = on, 2 - off \nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 1060,
        "wires": [
            [
                "0e8791b9613119d3"
            ]
        ]
    },
    {
        "id": "0e8791b9613119d3",
        "type": "ui_multistate_switch",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "",
        "group": "783559057c95f8c8",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "авто.",
                "value": "auto",
                "valueType": "str",
                "color": "#009933"
            },
            {
                "label": "вкл. ",
                "value": "on",
                "valueType": "str",
                "color": "#999999"
            },
            {
                "label": "выкл.",
                "value": "off",
                "valueType": "str",
                "color": "#ff6666"
            }
        ],
        "topic": "7IsAutoType",
        "x": 680,
        "y": 1060,
        "wires": [
            [
                "40700e4e70a61608"
            ]
        ]
    },
    {
        "id": "cd3ea60f4145a72b",
        "type": "link out",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "update something in properties",
        "mode": "link",
        "links": [
            "19459d2f0bdff8cb",
            "3464acbb331c2f72"
        ],
        "x": 965,
        "y": 1000,
        "wires": []
    },
    {
        "id": "d4083f38300a2a23",
        "type": "link in",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "get Status From DB",
        "links": [
            "0a9bfe64b822c8d4"
        ],
        "x": 175,
        "y": 1340,
        "wires": [
            [
                "a181fa0173df9933"
            ]
        ]
    },
    {
        "id": "767b26a74640709e",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "Save",
        "func": "global.set(msg.topic, msg.payload, 'file');\nmsg.res = global.get(msg.topic, 'file');\nmsg.topic = Number(msg.topic.slice(0,1))\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 480,
        "wires": [
            [
                "1b0d27a913315c54"
            ]
        ]
    },
    {
        "id": "0c021d31742fa19a",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "Save",
        "func": "global.set(msg.topic, msg.payload, 'file');\nmsg.res = global.get(msg.topic, 'file');\nmsg.topic = Number(msg.topic.slice(0,1))\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 260,
        "wires": [
            [
                "2b91bb619b5282d0"
            ]
        ]
    },
    {
        "id": "1b0d27a913315c54",
        "type": "link out",
        "z": "689525d2b0418bc9",
        "g": "9a2e40c463f71938",
        "name": "update something in properties",
        "mode": "link",
        "links": [
            "19459d2f0bdff8cb",
            "3464acbb331c2f72"
        ],
        "x": 965,
        "y": 480,
        "wires": []
    },
    {
        "id": "2b91bb619b5282d0",
        "type": "link out",
        "z": "689525d2b0418bc9",
        "g": "6b04ef086f6ceeab",
        "name": "update something in properties",
        "mode": "link",
        "links": [
            "3464acbb331c2f72"
        ],
        "x": 965,
        "y": 260,
        "wires": []
    },
    {
        "id": "9e41dae8241356e4",
        "type": "comment",
        "z": "689525d2b0418bc9",
        "g": "5492ea57e471bb96",
        "name": "Вентилятор",
        "info": "",
        "x": 110,
        "y": 940,
        "wires": []
    },
    {
        "id": "5418897502365aa6",
        "type": "link out",
        "z": "689525d2b0418bc9",
        "g": "65606c88f8af42e7",
        "name": "sender",
        "mode": "link",
        "links": [
            "3692ce669cc3eccf"
        ],
        "x": 395,
        "y": 1540,
        "wires": []
    },
    {
        "id": "bff0594ecaa22f2c",
        "type": "catch",
        "z": "689525d2b0418bc9",
        "g": "65606c88f8af42e7",
        "name": "",
        "scope": null,
        "uncaught": true,
        "x": 150,
        "y": 1540,
        "wires": [
            [
                "5418897502365aa6",
                "59807a56d81ee9b9"
            ]
        ]
    },
    {
        "id": "59807a56d81ee9b9",
        "type": "debug",
        "z": "689525d2b0418bc9",
        "g": "65606c88f8af42e7",
        "name": "debug all",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 380,
        "y": 1580,
        "wires": []
    },
    {
        "id": "d628b2b52fe8c28f",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "topic = 0",
        "func": "msg.topic = 0;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 1360,
        "wires": [
            [
                "5056ecf2ce1dcaf5"
            ]
        ]
    },
    {
        "id": "5056ecf2ce1dcaf5",
        "type": "link out",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "stateMachine",
        "mode": "link",
        "links": [
            "8144d31cbdf6d265"
        ],
        "x": 845,
        "y": 1360,
        "wires": []
    },
    {
        "id": "3a3aab476b5c1a93",
        "type": "ui_dropdown",
        "z": "689525d2b0418bc9",
        "g": "b4d9458bdc57e976",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "6335583be6530cfb",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "Стоп",
                "value": "Stop",
                "type": "str"
            },
            {
                "label": "Греем",
                "value": "Warm",
                "type": "str"
            },
            {
                "label": "Головы",
                "value": "Heads",
                "type": "str"
            },
            {
                "label": "Тело",
                "value": "Body",
                "type": "str"
            },
            {
                "label": "Хвосты",
                "value": "Tails",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 440,
        "y": 1280,
        "wires": [
            [
                "77127fc1e1b9c16a",
                "87f930b8710e94c9",
                "051c8c1c09216cb8"
            ]
        ]
    },
    {
        "id": "ac19e3c8155a3409",
        "type": "ui_text_input",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "",
        "label": "Минимум",
        "tooltip": "",
        "group": "45694f250ca041cb",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 720,
        "y": 640,
        "wires": [
            [
                "d34b5970a4e82a82"
            ]
        ]
    },
    {
        "id": "2c7f695dbf1f3244",
        "type": "inject",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "3",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "3",
        "x": 110,
        "y": 700,
        "wires": [
            [
                "736eba11452d8449",
                "775516089b70b407",
                "69497fd568bfbb05",
                "dbb3f66904f582be"
            ]
        ]
    },
    {
        "id": "194bd38d87fa4295",
        "type": "ui_text_input",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "",
        "label": "Максимум",
        "tooltip": "",
        "group": "45694f250ca041cb",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 710,
        "y": 680,
        "wires": [
            [
                "d34b5970a4e82a82"
            ]
        ]
    },
    {
        "id": "8e21e16f9adcf523",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "get 5",
        "func": "var res = global.get(msg.topic, 'file');\nif(res === undefined)\n    res = 5\nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 410,
        "y": 640,
        "wires": [
            [
                "ac19e3c8155a3409"
            ]
        ]
    },
    {
        "id": "1a55cb40a1e782cd",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "get default 80",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = 80\nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 680,
        "wires": [
            [
                "194bd38d87fa4295"
            ]
        ]
    },
    {
        "id": "736eba11452d8449",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "+min",
        "func": "msg.topic += 'TemperatureMin'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 640,
        "wires": [
            [
                "8e21e16f9adcf523"
            ]
        ]
    },
    {
        "id": "775516089b70b407",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "+max",
        "func": "msg.topic += 'TemperatureMax'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 680,
        "wires": [
            [
                "1a55cb40a1e782cd"
            ]
        ]
    },
    {
        "id": "d7e036ddb2553b9b",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "get default UpOrDown",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = false // 0 = up(на охлаждение), 1 = down(на отогрев) \nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 720,
        "wires": [
            [
                "ec8837118ccf576c"
            ]
        ]
    },
    {
        "id": "69497fd568bfbb05",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "+UpDownType",
        "func": "msg.topic += 'UpDownType'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 300,
        "y": 720,
        "wires": [
            [
                "d7e036ddb2553b9b"
            ]
        ]
    },
    {
        "id": "ec8837118ccf576c",
        "type": "ui_multistate_switch",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "",
        "group": "45694f250ca041cb",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "Охлаж",
                "value": "false",
                "valueType": "bool",
                "color": "#009933"
            },
            {
                "label": "Нагрев",
                "value": "true",
                "valueType": "bool",
                "color": "#999999"
            }
        ],
        "topic": "3UpDownType",
        "x": 700,
        "y": 720,
        "wires": [
            [
                "d34b5970a4e82a82"
            ]
        ]
    },
    {
        "id": "dbb3f66904f582be",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "+IsAutoType",
        "func": "msg.topic += 'IsAutoType'\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 290,
        "y": 760,
        "wires": [
            [
                "9c67356924decb14"
            ]
        ]
    },
    {
        "id": "9c67356924decb14",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "get default IsAutoType",
        "func": "var res = global.get(msg.topic, 'file');\nnode.log(res);\nif(res === undefined)\n    res = 'auto' // 0 = auto, 1 = on, 2 - off \nmsg.payload = res;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 500,
        "y": 760,
        "wires": [
            [
                "cd31866d5de97e63"
            ]
        ]
    },
    {
        "id": "cd31866d5de97e63",
        "type": "ui_multistate_switch",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "",
        "group": "45694f250ca041cb",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "авто.",
                "value": "auto",
                "valueType": "str",
                "color": "#009933"
            },
            {
                "label": "вкл. ",
                "value": "on",
                "valueType": "str",
                "color": "#999999"
            },
            {
                "label": "выкл.",
                "value": "off",
                "valueType": "str",
                "color": "#ff6666"
            }
        ],
        "topic": "3IsAutoType",
        "x": 700,
        "y": 760,
        "wires": [
            [
                "d34b5970a4e82a82"
            ]
        ]
    },
    {
        "id": "d34b5970a4e82a82",
        "type": "function",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "Save",
        "func": "global.set(msg.topic, msg.payload, 'file');\nmsg.res = global.get(msg.topic, 'file');\nmsg.topic = Number(msg.topic.slice(0,1))\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 870,
        "y": 700,
        "wires": [
            [
                "6a0e0c1f3b8d93aa"
            ]
        ]
    },
    {
        "id": "6a0e0c1f3b8d93aa",
        "type": "link out",
        "z": "689525d2b0418bc9",
        "g": "814a42c964d7ae92",
        "name": "update something in properties",
        "mode": "link",
        "links": [
            "19459d2f0bdff8cb",
            "3464acbb331c2f72"
        ],
        "x": 965,
        "y": 700,
        "wires": []
    },
    {
        "id": "6ffe9844abbbcc9e",
        "type": "rpi-gpio out",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "bb85908392c67a17",
        "name": "io22 - клапан отбора",
        "pin": "22",
        "set": "",
        "level": "0",
        "freq": "",
        "out": "out",
        "bcm": true,
        "x": 1120,
        "y": 1340,
        "wires": []
    },
    {
        "id": "905ce98cf08974d6",
        "type": "inject",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "39a31c26c77a7204",
        "name": "подогрев притки по дефолту",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 350,
        "y": 1660,
        "wires": [
            [
                "74d4b944044df8e8"
            ]
        ]
    },
    {
        "id": "74d4b944044df8e8",
        "type": "rpi-gpio out",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "39a31c26c77a7204",
        "name": "GPIO27 - главная фаза",
        "pin": "27",
        "set": "",
        "level": "0",
        "freq": "",
        "out": "out",
        "bcm": true,
        "x": 950,
        "y": 1660,
        "wires": []
    },
    {
        "id": "a8da10eb8d1383fc",
        "type": "function",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "bb85908392c67a17",
        "name": "разветвляем limit и",
        "func": "//var limitT = flow.get(\"TempToSelectedNode\");\n//msg.payload = msg.payload > limitT;\n\nmsg.maxLimit = Number(flow.get(\"TempToSelectedNode\"));\nmsg.minLimit = Number(flow.get(\"TempToSelectedNode\"))-0.2\nmsg.automat = Number(flow.get(\"automaticKlpnKind\"));\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 180,
        "y": 1360,
        "wires": [
            [
                "e7ddc64be73db460"
            ]
        ],
        "icon": "node-red/trigger.svg"
    },
    {
        "id": "13577852fd374ce3",
        "type": "switch",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "bb85908392c67a17",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "gt",
                "v": "maxLimit",
                "vt": "msg"
            },
            {
                "t": "lte",
                "v": "minLimit",
                "vt": "msg"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 650,
        "y": 1300,
        "wires": [
            [
                "c2c040f439cc0d06"
            ],
            [
                "b0dfef8226e934e7"
            ]
        ]
    },
    {
        "id": "c2c040f439cc0d06",
        "type": "change",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "bb85908392c67a17",
        "name": "=> true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1280,
        "wires": [
            [
                "9261d1cfbed2c0b6",
                "6ffe9844abbbcc9e"
            ]
        ]
    },
    {
        "id": "b0dfef8226e934e7",
        "type": "change",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "bb85908392c67a17",
        "name": "=> false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 840,
        "y": 1340,
        "wires": [
            [
                "9261d1cfbed2c0b6",
                "6ffe9844abbbcc9e"
            ]
        ]
    },
    {
        "id": "aae7fe1311d70af5",
        "type": "comment",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "bb85908392c67a17",
        "name": "Если автомат включен. При достижении лимита из числа в настройках, - вкл клпн. При снижении ниже limit -0.2 - выключаем. Если автомат выключен, - просто On Off              .",
        "info": "",
        "x": 620,
        "y": 1420,
        "wires": []
    },
    {
        "id": "e7ddc64be73db460",
        "type": "switch",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "bb85908392c67a17",
        "name": "",
        "property": "automat",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 4,
        "x": 410,
        "y": 1300,
        "wires": [
            [
                "c2c040f439cc0d06"
            ],
            [
                "13577852fd374ce3"
            ],
            [
                "b0dfef8226e934e7"
            ],
            []
        ]
    },
    {
        "id": "9261d1cfbed2c0b6",
        "type": "ui_led",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "bb85908392c67a17",
        "order": 6,
        "group": "4d56de2073491c0e",
        "width": 0,
        "height": 0,
        "label": "",
        "labelPlacement": "left",
        "labelAlignment": "center",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 1070,
        "y": 1280,
        "wires": []
    },
    {
        "id": "2ebd7ee5ffd6b4b2",
        "type": "function",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "39a31c26c77a7204",
        "name": "on | off iPlate",
        "func": "switch(msg.payload){\n    case \"Stop\":\n    //case \"Tails\":\n        msg.payload = Boolean(false);\n        break;\n    default:\n        msg.payload = Boolean(true);\n        break;\n}\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 1720,
        "wires": [
            [
                "74d4b944044df8e8"
            ]
        ],
        "inputLabels": [
            "en"
        ],
        "outputLabels": [
            "ru"
        ],
        "icon": "node-red/switch.svg"
    },
    {
        "id": "a2bd41641f3f0235",
        "type": "link in",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "39a31c26c77a7204",
        "name": "Подогрев плитки - Hot pin 24",
        "links": [
            "1e2b45a776c1f40b"
        ],
        "x": 225,
        "y": 1780,
        "wires": [
            [
                "c80a603ba305f8b2"
            ]
        ]
    },
    {
        "id": "c684b898d61c37a1",
        "type": "comment",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "39a31c26c77a7204",
        "name": "Если вкладку не переоткрывать, то светлячок не меняет состояния, хотя сигнал на пине меняет",
        "info": "",
        "x": 540,
        "y": 1620,
        "wires": []
    },
    {
        "id": "c80a603ba305f8b2",
        "type": "delay",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "39a31c26c77a7204",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 370,
        "y": 1740,
        "wires": [
            [
                "2ebd7ee5ffd6b4b2"
            ]
        ]
    },
    {
        "id": "11489c31ac6ded55",
        "type": "link in",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "bb85908392c67a17",
        "name": "управление реле авто или вручную",
        "links": [],
        "x": 195,
        "y": 1280,
        "wires": [
            [
                "a8da10eb8d1383fc"
            ]
        ]
    },
    {
        "id": "3620c89addfedebb",
        "type": "function",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "39a31c26c77a7204",
        "name": "validate temperature in cube",
        "func": "var limit = global.get(\"limitTempInCube\");\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 1840,
        "wires": [
            []
        ]
    },
    {
        "id": "9bc0442e76cdfafe",
        "type": "inject",
        "z": "acc838421a0cef87",
        "d": true,
        "g": "39a31c26c77a7204",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 380,
        "y": 1840,
        "wires": [
            [
                "3620c89addfedebb"
            ]
        ]
    },
    {
        "id": "fa0913c1a8761996",
        "type": "comment",
        "z": "acc838421a0cef87",
        "name": "Контроль подогрева - так работает плитка",
        "info": "### Рабочий режим\n**Условия валиадтора** \nЕсли t° < mix надо включить и запомнить, режим - ХХ\nЕсли t° > max - надо выключить и режим = ХХ\n\n### **Режим остывания (холостой ход = ХХ)**\nВажно не включать плитку в режиме остывания. до достижения min\nРежим остывания, подогрева может быть обнулен переключателем auto\n\n",
        "x": 230,
        "y": 60,
        "wires": []
    },
    {
        "id": "f1f4849c05837111",
        "type": "comment",
        "z": "acc838421a0cef87",
        "name": "Контроль холодильника - так работает узел отбора или насос воды или вентилятор RPi",
        "info": "### Рабочий режим\n**Условия валиадтора** \nЕсли t° > max надо включить и запомнить, режим - ХХ \nЕсли t° < min - надо выключить и режим = ХХ\n\n### **Режим остывания (холостой ход = ХХ)**\nВажно не включать плитку в режиме остывания. до достижения min\nРежим остывания, подогрева может быть обнулен переключателем auto\n\n",
        "x": 380,
        "y": 120,
        "wires": []
    },
    {
        "id": "3d95cb2108417c56",
        "type": "inject",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "For tests",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "7",
        "payload": "34",
        "payloadType": "num",
        "x": 160,
        "y": 480,
        "wires": [
            [
                "b02e53124916a7d3"
            ]
        ]
    },
    {
        "id": "b02e53124916a7d3",
        "type": "switch",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "=> GRIO pins",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "4",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "5",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "6",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "7",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 380,
        "y": 540,
        "wires": [
            [
                "5c6ce36c3d726be3"
            ],
            [
                "e8784575b7d8ecb0"
            ],
            [
                "bb697c93f6c2ddaf"
            ],
            [
                "2c5bf1f7ee85d8a9"
            ],
            [],
            [],
            [
                "7486c2be3cea72d9"
            ],
            []
        ]
    },
    {
        "id": "4d93266a54714547",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to GPIO25",
        "mode": "link",
        "links": [
            "a143056ad68883fa",
            "c32a7373a0b762e5"
        ],
        "x": 1195,
        "y": 700,
        "wires": []
    },
    {
        "id": "0c2068eafe2f772c",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to gpio 21",
        "mode": "link",
        "links": [],
        "x": 1205,
        "y": 660,
        "wires": []
    },
    {
        "id": "547b60ae1650f088",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to gpio 20",
        "mode": "link",
        "links": [],
        "x": 1065,
        "y": 640,
        "wires": []
    },
    {
        "id": "590e6cae5be947cf",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to gpio 17",
        "mode": "link",
        "links": [
            "ce7085e56f5bff4a"
        ],
        "x": 1205,
        "y": 600,
        "wires": []
    },
    {
        "id": "9dd4dcce5708657e",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to gpio 22",
        "mode": "link",
        "links": [
            "2fbb6a7d93127f87",
            "599f67face796044"
        ],
        "x": 1215,
        "y": 560,
        "wires": []
    },
    {
        "id": "dd602e441e160e66",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to gpio 24",
        "mode": "link",
        "links": [
            "09d5424fa138f4a6",
            "838577539ad8e218",
            "2488e07ce098103b"
        ],
        "x": 1215,
        "y": 500,
        "wires": []
    },
    {
        "id": "b6f963d84ae742b5",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to gpio 27",
        "mode": "link",
        "links": [
            "4cb622504ace93de",
            "4cee849538db9e7c",
            "5cd66dbfb0e5c1d6"
        ],
        "x": 1225,
        "y": 440,
        "wires": []
    },
    {
        "id": "7866448d7367894f",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to error logs",
        "mode": "link",
        "links": [
            "3692ce669cc3eccf"
        ],
        "x": 1145,
        "y": 660,
        "wires": []
    },
    {
        "id": "19459d2f0bdff8cb",
        "type": "link in",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "Value to GPIO CONTROLLER ",
        "links": [
            "1b0d27a913315c54",
            "42781cf5aebb38cc",
            "891e1fa951e34183",
            "c49fbb9bb905de8b",
            "cd3ea60f4145a72b",
            "6a0e0c1f3b8d93aa"
        ],
        "x": 235,
        "y": 540,
        "wires": [
            [
                "b02e53124916a7d3"
            ]
        ]
    },
    {
        "id": "91e99a7e81eae61a",
        "type": "change",
        "z": "acc838421a0cef87",
        "name": "=> true",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 460,
        "y": 1160,
        "wires": [
            []
        ]
    },
    {
        "id": "0e428db8d7ad7eea",
        "type": "change",
        "z": "acc838421a0cef87",
        "name": "=> false",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 480,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "9aa0af963eb04cdc",
        "type": "function",
        "z": "acc838421a0cef87",
        "name": "contains",
        "func": "if (Number(msg.tCurrent) > Number(msg.tMax)){\n    msg.payload = false;\n}\nelse if(Number(msg.tCurrent) < Number(msg.tMin)){\n    msg.payload = true ;\n}\nelse msg.payload = null;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 440,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "7a05fc1fb034be6a",
        "type": "switch",
        "z": "acc838421a0cef87",
        "d": true,
        "name": "Is Auto?",
        "property": "isAuto",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "on",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "auto",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "off",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 3,
        "x": 240,
        "y": 1080,
        "wires": [
            [
                "91e99a7e81eae61a"
            ],
            [
                "9aa0af963eb04cdc"
            ],
            [
                "0e428db8d7ad7eea"
            ]
        ],
        "outputLabels": [
            "On",
            "Auto",
            "Off"
        ]
    },
    {
        "id": "fe832395e19e2ce2",
        "type": "dynamic thermostat",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "",
        "x": 910,
        "y": 440,
        "wires": [
            [
                "e427aa6b2238897f"
            ]
        ]
    },
    {
        "id": "5ead204be0cdb941",
        "type": "dynamic thermostat",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "",
        "x": 910,
        "y": 500,
        "wires": [
            [
                "5c3b2e0178eed12f"
            ]
        ]
    },
    {
        "id": "e427aa6b2238897f",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "get OnOff",
        "func": "return msg.payload.onoff == null \n? null \n: {payload: msg.payload.onoff }; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 440,
        "wires": [
            [
                "b6f963d84ae742b5"
            ]
        ]
    },
    {
        "id": "60dfdca2e6547119",
        "type": "dynamic thermostat",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "",
        "x": 890,
        "y": 680,
        "wires": [
            [
                "a655d6f1dc9e5876"
            ]
        ]
    },
    {
        "id": "0b28383c46f8c84e",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to termostat 1",
        "mode": "link",
        "links": [
            "4d62ad7c856dd87d"
        ],
        "x": 1175,
        "y": 240,
        "wires": []
    },
    {
        "id": "4d62ad7c856dd87d",
        "type": "link in",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to termostat 1",
        "links": [
            "0b28383c46f8c84e"
        ],
        "x": 725,
        "y": 420,
        "wires": [
            [
                "fe832395e19e2ce2"
            ]
        ]
    },
    {
        "id": "2195413ab02def24",
        "type": "switch",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "=> GRIO pins",
        "property": "splitter",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "4",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "5",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "6",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "7",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 8,
        "x": 920,
        "y": 300,
        "wires": [
            [
                "0b28383c46f8c84e"
            ],
            [
                "9898fd516650cee3",
                "66ef75aaad7b8a12"
            ],
            [
                "6cfabd3d1d632ed4"
            ],
            [],
            [],
            [],
            [
                "84130ecdf4f9aa12"
            ],
            []
        ]
    },
    {
        "id": "3464acbb331c2f72",
        "type": "link in",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "changeProperties",
        "links": [
            "1b0d27a913315c54",
            "2b91bb619b5282d0",
            "6a0e0c1f3b8d93aa",
            "cd3ea60f4145a72b"
        ],
        "x": 445,
        "y": 260,
        "wires": [
            [
                "c2ebf8a39b155972"
            ]
        ]
    },
    {
        "id": "5c6ce36c3d726be3",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "get Curr",
        "func": "// для новых лыж готовим смазку\nvar current = Number(global.get(msg.topic + \"CurrentTemperature\", \"file\"));\n\nif (Number(msg.payload) != undefined) {\n    current = Number(msg.payload);\n}\n\nreturn {\n    topic: 'current',\n    payload: current\n};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 460,
        "wires": [
            [
                "fe832395e19e2ce2"
            ]
        ]
    },
    {
        "id": "fbd1a6885680fc3e",
        "type": "comment",
        "z": "acc838421a0cef87",
        "name": "Надо замутить тестовый полигон. три ползунка карент, таргет и гистерезис. и лампочку результата",
        "info": "обновление каждые 100 мс и вперед, смотрим, как надо сделать чтобы уложиться в постановку. \nвозможно придется переделать на свои сценарии, тогда тоже пригодится\n\nто же надо сделать, для холодильника или понять как пользоваться этим термостатом",
        "x": 490,
        "y": 800,
        "wires": []
    },
    {
        "id": "e8784575b7d8ecb0",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "get Curr",
        "func": "// для новых лыж готовим смазку\nvar current = Number(global.get(msg.topic + \"CurrentTemperature\", \"file\"));\n\nif (Number(msg.payload) != undefined) {\n    current = Number(msg.payload);\n}\n\nreturn {\n    topic: 'current',\n    payload: current\n};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 500,
        "wires": [
            [
                "5ead204be0cdb941"
            ]
        ]
    },
    {
        "id": "5c3b2e0178eed12f",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "get onOff",
        "func": "return msg.payload.onoff == null \n? null \n: {payload: msg.payload.onoff }; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 500,
        "wires": [
            [
                "dd602e441e160e66"
            ]
        ]
    },
    {
        "id": "9898fd516650cee3",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to termostat 2",
        "mode": "link",
        "links": [
            "12d5d0533e963ed2"
        ],
        "x": 1215,
        "y": 260,
        "wires": []
    },
    {
        "id": "c2ebf8a39b155972",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "Read and Split Properties",
        "func": "msg.tMin = global.get(msg.topic + \"TemperatureMin\", \"file\");\nmsg.tMax = global.get(msg.topic + \"TemperatureMax\", \"file\");\nmsg.isAuto = global.get(msg.topic + \"IsAutoType\", \"file\");\nvar upDownType = global.get(msg.topic + \"UpDownType\", \"file\");\n\n// для новых лыж готовим смазку\nreturn [\n    {\n        topic: 'target',\n        payload: msg.tMax,\n        splitter: msg.topic\n    },\n    {\n        topic: 'hysteresis',\n        payload: upDownType ? (msg.tMax - msg.tMin) : (msg.tMin - msg.tMax),\n        splitter: msg.topic\n    },\n    {\n        topic: 'switch',\n        payload: msg.isAuto == 'auto' ? null : Boolean(msg.isAuto),\n        splitter: msg.topic\n    }\n];\n",
        "outputs": 3,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 630,
        "y": 300,
        "wires": [
            [
                "2195413ab02def24"
            ],
            [
                "2195413ab02def24"
            ],
            [
                "2195413ab02def24"
            ]
        ]
    },
    {
        "id": "bb697c93f6c2ddaf",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "get Curr",
        "func": "// для новых лыж готовим смазку\nvar current = Number(global.get(msg.topic + \"CurrentTemperature\", \"file\"));\n\nif (Number(msg.payload) != undefined) {\n    current = Number(msg.payload);\n}\n\nreturn {\n    topic: 'current',\n    payload: current\n};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 540,
        "wires": [
            [
                "7eb9b01ed7e8e58a"
            ]
        ]
    },
    {
        "id": "7eb9b01ed7e8e58a",
        "type": "dynamic thermostat",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "",
        "x": 910,
        "y": 560,
        "wires": [
            [
                "53b85fe2ae7fcde4"
            ]
        ]
    },
    {
        "id": "12d5d0533e963ed2",
        "type": "link in",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to termostat 2",
        "links": [
            "9898fd516650cee3"
        ],
        "x": 775,
        "y": 480,
        "wires": [
            [
                "5ead204be0cdb941"
            ]
        ]
    },
    {
        "id": "50b24d734108b089",
        "type": "link in",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to termostat 3",
        "links": [
            "6cfabd3d1d632ed4"
        ],
        "x": 785,
        "y": 540,
        "wires": [
            [
                "7eb9b01ed7e8e58a"
            ]
        ]
    },
    {
        "id": "6cfabd3d1d632ed4",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to termostat 3",
        "mode": "link",
        "links": [
            "50b24d734108b089"
        ],
        "x": 1175,
        "y": 280,
        "wires": []
    },
    {
        "id": "84130ecdf4f9aa12",
        "type": "link out",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to termostat 7",
        "mode": "link",
        "links": [
            "553b1c97707f1e7f"
        ],
        "x": 1215,
        "y": 340,
        "wires": []
    },
    {
        "id": "553b1c97707f1e7f",
        "type": "link in",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "to termostat 7",
        "links": [
            "84130ecdf4f9aa12"
        ],
        "x": 725,
        "y": 680,
        "wires": [
            [
                "60dfdca2e6547119"
            ]
        ]
    },
    {
        "id": "7486c2be3cea72d9",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "get Curr",
        "func": "// для новых лыж готовим смазку\nvar current = Number(global.get(msg.topic + \"CurrentTemperature\", \"file\"));\n\nif (Number(msg.payload) != undefined) {\n    current = Number(msg.payload);\n}\n\nreturn {\n    topic: 'current',\n    payload: current\n};",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 620,
        "wires": [
            [
                "60dfdca2e6547119"
            ]
        ]
    },
    {
        "id": "53b85fe2ae7fcde4",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "get onOff",
        "func": "return msg.payload.onoff == null \n? null \n: {payload: msg.payload.onoff }; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1100,
        "y": 560,
        "wires": [
            [
                "9dd4dcce5708657e"
            ]
        ]
    },
    {
        "id": "f921f7e3339415db",
        "type": "comment",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "При измеении параметров...",
        "info": "",
        "x": 200,
        "y": 240,
        "wires": []
    },
    {
        "id": "dd56d759b9e86f4a",
        "type": "comment",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "При измеении значения ...",
        "info": "",
        "x": 400,
        "y": 460,
        "wires": []
    },
    {
        "id": "24894ca3800eeef9",
        "type": "inject",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "For begin 1",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.6",
        "topic": "1",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 300,
        "wires": [
            [
                "2023a9496789bc51",
                "ce7533a37683aa45"
            ]
        ]
    },
    {
        "id": "3d17b1f7211d79bf",
        "type": "inject",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "For begin 2",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.6",
        "topic": "2",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 340,
        "wires": [
            [
                "2023a9496789bc51",
                "ce7533a37683aa45"
            ]
        ]
    },
    {
        "id": "d7b0f54e2b7fc8ae",
        "type": "inject",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "For begin 3",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.6",
        "topic": "3",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 380,
        "wires": [
            [
                "ce7533a37683aa45",
                "2023a9496789bc51"
            ]
        ]
    },
    {
        "id": "4255ecc446791e3d",
        "type": "inject",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "For begin 7",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.6",
        "topic": "7",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 420,
        "wires": [
            [
                "2023a9496789bc51",
                "ce7533a37683aa45"
            ]
        ]
    },
    {
        "id": "ce7533a37683aa45",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "sqitch true для инициализации",
        "func": "// для новых лыж готовим смазку\nreturn {\n        topic: 'switch',\n        payload: true,\n        splitter: msg.topic\n    };\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 570,
        "y": 380,
        "wires": [
            [
                "2195413ab02def24"
            ]
        ]
    },
    {
        "id": "2023a9496789bc51",
        "type": "delay",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 410,
        "y": 300,
        "wires": [
            [
                "c2ebf8a39b155972"
            ]
        ]
    },
    {
        "id": "66ef75aaad7b8a12",
        "type": "debug",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "debug 46",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 300,
        "wires": []
    },
    {
        "id": "2c5bf1f7ee85d8a9",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "get 0",
        "func": "\nreturn 0;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 610,
        "y": 580,
        "wires": [
            [
                "590e6cae5be947cf"
            ]
        ]
    },
    {
        "id": "a655d6f1dc9e5876",
        "type": "function",
        "z": "acc838421a0cef87",
        "g": "a6747735f8e1d59d",
        "name": "get OnOff",
        "func": "return msg.payload.onoff == null \n? null \n: {payload: msg.payload.onoff }; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 680,
        "wires": [
            [
                "4d93266a54714547"
            ]
        ]
    },
    {
        "id": "4ae37cbd5b043d72",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload.x",
                "v": "1",
                "vt": "num"
            },
            {
                "p": "payload.y",
                "v": "16",
                "vt": "num"
            },
            {
                "p": "payload.w",
                "v": "128",
                "vt": "num"
            },
            {
                "p": "payload.h",
                "v": "64",
                "vt": "num"
            },
            {
                "p": "payload.color",
                "v": "1",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 760,
        "y": 880,
        "wires": [
            [
                "755b5638a256dd79"
            ]
        ]
    },
    {
        "id": "936252af3768eb24",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload.x",
                "v": "1",
                "vt": "num"
            },
            {
                "p": "payload.y",
                "v": "11",
                "vt": "num"
            },
            {
                "p": "payload.p",
                "v": "75",
                "vt": "num"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"x\":1,\"y\":1,\"p\":75}",
        "payloadType": "json",
        "x": 170,
        "y": 800,
        "wires": [
            [
                "9a5606defb39dd49"
            ]
        ]
    },
    {
        "id": "ac35aea012b892de",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "0.15",
        "topic": "",
        "payload": "{\"x\":2,\"y\":17,\"w\":125,\"h\":46,\"color\":0}",
        "payloadType": "json",
        "x": 760,
        "y": 920,
        "wires": [
            [
                "755b5638a256dd79"
            ]
        ]
    },
    {
        "id": "682124b45f1a8f76",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "jsonata",
        "x": 440,
        "y": 100,
        "wires": [
            [
                "208d7cb9e935e59b"
            ]
        ]
    },
    {
        "id": "471c8acc563365bf",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "jsonata",
        "x": 440,
        "y": 60,
        "wires": [
            [
                "208d7cb9e935e59b"
            ]
        ]
    },
    {
        "id": "786043206e2df144",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "d": true,
        "g": "badb192599326734",
        "name": "izq",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"direction\":\"left\",\"start\":0,\"stop\":15}",
        "payloadType": "json",
        "x": 1030,
        "y": 360,
        "wires": [
            [
                "c373b526da23d731"
            ]
        ]
    },
    {
        "id": "13a4bb2ce26456e8",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "jsonata",
        "x": 140,
        "y": 960,
        "wires": [
            [
                "d8e1d6260fea6b1a"
            ]
        ]
    },
    {
        "id": "00ddb4fda913481a",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "jsonata",
        "x": 140,
        "y": 920,
        "wires": [
            [
                "d8e1d6260fea6b1a"
            ]
        ]
    },
    {
        "id": "51984429dbf1fb8c",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "d": true,
        "g": "badb192599326734",
        "name": "der",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"direction\":\"right\",\"start\":0,\"stop\":15}",
        "payloadType": "json",
        "x": 1030,
        "y": 400,
        "wires": [
            [
                "c373b526da23d731"
            ]
        ]
    },
    {
        "id": "7f2a9ef032898730",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 130,
        "y": 840,
        "wires": [
            [
                "e4cbe25ba19dee46"
            ]
        ]
    },
    {
        "id": "b46cc6f140789827",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 130,
        "y": 880,
        "wires": [
            [
                "3da681d564c2227b"
            ]
        ]
    },
    {
        "id": "5776395cdd888417",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "d": true,
        "g": "badb192599326734",
        "name": "stop",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 1030,
        "y": 440,
        "wires": [
            [
                "c373b526da23d731"
            ]
        ]
    },
    {
        "id": "417be58331edbc5d",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "d": true,
        "g": "badb192599326734",
        "name": "left diagonal",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"direction\":\"left_diagonal\",\"start\":0,\"stop\":128}",
        "payloadType": "json",
        "x": 1030,
        "y": 480,
        "wires": [
            [
                "c373b526da23d731"
            ]
        ]
    },
    {
        "id": "a414c5831af96fc8",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "d": true,
        "g": "badb192599326734",
        "name": "right diagonal",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"direction\":\"right_diagonal\",\"start\":0,\"stop\":128}",
        "payloadType": "json",
        "x": 1030,
        "y": 520,
        "wires": [
            [
                "c373b526da23d731"
            ]
        ]
    },
    {
        "id": "208d7cb9e935e59b",
        "type": "Dimmed",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 620,
        "y": 60,
        "wires": []
    },
    {
        "id": "d8e1d6260fea6b1a",
        "type": "Invertion",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 420,
        "y": 940,
        "wires": []
    },
    {
        "id": "e4cbe25ba19dee46",
        "type": "Turn-on",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 260,
        "y": 840,
        "wires": []
    },
    {
        "id": "3da681d564c2227b",
        "type": "Turn-off",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 260,
        "y": 880,
        "wires": []
    },
    {
        "id": "c0c23cdd744335f2",
        "type": "Pixel",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 810,
        "y": 820,
        "wires": []
    },
    {
        "id": "755b5638a256dd79",
        "type": "FillRectangle",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 950,
        "y": 900,
        "wires": []
    },
    {
        "id": "c373b526da23d731",
        "type": "Scroll",
        "z": "bf0b31ad452185bc",
        "d": true,
        "g": "badb192599326734",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 1270,
        "y": 380,
        "wires": []
    },
    {
        "id": "22de7b1191839f21",
        "type": "Wifi",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 810,
        "y": 620,
        "wires": []
    },
    {
        "id": "36934ae7f9982316",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "d": true,
        "g": "badb192599326734",
        "name": "izq",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"direction\":\"left\",\"start\":0,\"stop\":14}",
        "payloadType": "json",
        "x": 1030,
        "y": 580,
        "wires": [
            [
                "c373b526da23d731"
            ]
        ]
    },
    {
        "id": "069f558326551615",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "d": true,
        "g": "badb192599326734",
        "name": "izq",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"direction\":\"left\",\"start\":0,\"stop\":1}",
        "payloadType": "json",
        "x": 1030,
        "y": 640,
        "wires": [
            [
                "c373b526da23d731"
            ]
        ]
    },
    {
        "id": "126b9378898419f7",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "d": true,
        "g": "badb192599326734",
        "name": "izq",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"direction\":\"right\",\"start\":0,\"stop\":1}",
        "payloadType": "json",
        "x": 1030,
        "y": 700,
        "wires": [
            [
                "c373b526da23d731"
            ]
        ]
    },
    {
        "id": "7a7eaeeac24bf523",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "0.15",
        "topic": "",
        "payload": "{\"x\":0,\"y\":0,\"w\":1,\"h\":1,\"clear\":true,\"color\":0}",
        "payloadType": "json",
        "x": 580,
        "y": 840,
        "wires": [
            [
                "c0c23cdd744335f2"
            ]
        ]
    },
    {
        "id": "2ae48499231d26ca",
        "type": "Clear",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "oled",
        "display": "9a288fe6eaa83734",
        "x": 610,
        "y": 140,
        "wires": []
    },
    {
        "id": "7ac83452f350c4f1",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "jsonata",
        "x": 440,
        "y": 140,
        "wires": [
            [
                "2ae48499231d26ca"
            ]
        ]
    },
    {
        "id": "8144d31cbdf6d265",
        "type": "link in",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "Write Text OLED (title = # строки )",
        "links": [
            "056455ec45b3a536",
            "247b176475dd290a",
            "8ed55302a47e3aeb",
            "5056ecf2ce1dcaf5"
        ],
        "x": 245,
        "y": 380,
        "wires": [
            [
                "e3c19435dc69006c"
            ]
        ]
    },
    {
        "id": "7fc7623176d9a727",
        "type": "String",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 770,
        "y": 460,
        "wires": []
    },
    {
        "id": "3c597635fa7fedd8",
        "type": "switch",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "title ->",
        "property": "topic",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "2",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "3",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "4",
                "vt": "num"
            },
            {
                "t": "eq",
                "v": "5",
                "vt": "num"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 7,
        "x": 370,
        "y": 460,
        "wires": [
            [
                "a8a8160a6ec5f72c"
            ],
            [
                "0f42fa1abf97ae19"
            ],
            [
                "7691671b0339d4be"
            ],
            [
                "6d80fb234d2f7e37"
            ],
            [
                "8944da124afd3937"
            ],
            [
                "5836fa648bb9456c"
            ],
            []
        ]
    },
    {
        "id": "1dec2e625cc020c6",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "рамка на OLED",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 180,
        "y": 200,
        "wires": [
            [
                "18dff773be947c01",
                "a87fba18193e3c17"
            ]
        ]
    },
    {
        "id": "1060d5b7611d3cc5",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "Write rect",
        "func": "\nreturn [\n    {\n        payload: {\n            \"x0\": 0,\n            \"y0\": 63,\n            \"x1\": 128,\n            \"y1\": 63,\n            \"color\": 1\n        }\n    },\n    {\n        payload: { \"x0\": 1, \"y0\": 16, \"x1\": 128, \"y1\": 16, \"color\": 1 }\n    },\n    {\n        payload: { \"x0\": 1, \"y0\": 16, \"x1\": 1, \"y1\": 63, \"color\": 1 }\n    },\n    {\n        payload: { \"x0\": 127, \"y0\": 16, \"x1\": 127, \"y1\": 63, \"color\": 1 }\n    }\n];",
        "outputs": 4,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 220,
        "wires": [
            [],
            [
                "79a8fae942883e24"
            ],
            [],
            []
        ]
    },
    {
        "id": "79a8fae942883e24",
        "type": "Line",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 630,
        "y": 220,
        "wires": []
    },
    {
        "id": "18dff773be947c01",
        "type": "Clear",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "oled",
        "display": "9a288fe6eaa83734",
        "x": 350,
        "y": 180,
        "wires": []
    },
    {
        "id": "a87fba18193e3c17",
        "type": "delay",
        "z": "bf0b31ad452185bc",
        "g": "90aaf5ad7d485022",
        "name": "d 5ms",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 350,
        "y": 220,
        "wires": [
            [
                "1060d5b7611d3cc5"
            ]
        ]
    },
    {
        "id": "0f42fa1abf97ae19",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "1 строка",
        "func": "msg.payload = \n{\n    \"size\": 1,\n    \"x\": 4,\n    \"y\": 18,\n    \"text\": msg.payload + \"    \"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 380,
        "wires": [
            [
                "7fc7623176d9a727"
            ]
        ]
    },
    {
        "id": "a8a8160a6ec5f72c",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "0 Шапка текст",
        "func": "msg.payload = \n{\n    \"size\": 2,\n    \"x\": 2,\n    \"y\": 0,\n    \"text\": msg.payload\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 340,
        "wires": [
            [
                "7fc7623176d9a727"
            ]
        ],
        "icon": "node-red/batch.svg"
    },
    {
        "id": "7691671b0339d4be",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "2 строка",
        "func": "msg.payload = \n{\n    \"size\": 1,\n    \"x\": 4,\n    \"y\": 28,\n    \"text\": msg.payload + \"    \"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 420,
        "wires": [
            [
                "7fc7623176d9a727"
            ]
        ]
    },
    {
        "id": "6d80fb234d2f7e37",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "3 строка",
        "func": "msg.payload = \n{\n    \"size\": 1,\n    \"x\": 4,\n    \"y\": 38,\n    \"text\": msg.payload + \"    \"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 460,
        "wires": [
            [
                "7fc7623176d9a727"
            ]
        ]
    },
    {
        "id": "8944da124afd3937",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "4 строка",
        "func": "msg.payload = \n{\n    \"size\": 1,\n    \"x\": 4,\n    \"y\": 48,\n    \"text\": msg.payload + \"    \"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 500,
        "wires": [
            [
                "7fc7623176d9a727"
            ]
        ]
    },
    {
        "id": "5836fa648bb9456c",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "5 строка",
        "func": "msg.payload = \n{\n    \"size\": 1,\n    \"x\": 4,\n    \"y\": 57,\n    \"text\": msg.payload + \"    \"\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 560,
        "y": 540,
        "wires": [
            [
                "7fc7623176d9a727"
            ]
        ]
    },
    {
        "id": "0784038efff1d22f",
        "type": "exec",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "command": "iwconfig wlan0 | grep 'Signal level'",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 360,
        "y": 640,
        "wires": [
            [
                "679a45032623f38e"
            ],
            [],
            []
        ]
    },
    {
        "id": "250a90c82ad79535",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "Run",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "10",
        "crontab": "",
        "once": true,
        "onceDelay": "10.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 150,
        "y": 580,
        "wires": [
            [
                "0784038efff1d22f"
            ]
        ]
    },
    {
        "id": "679a45032623f38e",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "get % and dBm",
        "func": "var strRes = String(msg.payload);\nvar sigLevel = 'Signal level=';\nvar indexStart = strRes.lastIndexOf(sigLevel) + sigLevel.length;\n\nmsg.dBm = strRes.slice(indexStart, indexStart + 4);\nmsg.index = indexStart;\nmsg.payload = {\n    \"x\": 108, \"y\": 1, \"p\": 2 * (Number(msg.dBm) + 100)\n    };\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 620,
        "y": 620,
        "wires": [
            [
                "22de7b1191839f21",
                "c6c6091668bce197"
            ]
        ]
    },
    {
        "id": "9a5606defb39dd49",
        "type": "Wifi",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 370,
        "y": 800,
        "wires": []
    },
    {
        "id": "f0039e7ebb3ba50e",
        "type": "Battery",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 960,
        "y": 1060,
        "wires": []
    },
    {
        "id": "8d4826f5f49d11ad",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload.x",
                "v": "40",
                "vt": "num"
            },
            {
                "p": "payload.y",
                "v": "11",
                "vt": "num"
            },
            {
                "p": "payload.p",
                "v": "75",
                "vt": "num"
            },
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"x\":108,\"y\":1,\"p\":25,\"clear\":true}",
        "payloadType": "json",
        "x": 740,
        "y": 1060,
        "wires": [
            [
                "f0039e7ebb3ba50e"
            ]
        ]
    },
    {
        "id": "f147d4803529bcad",
        "type": "Bluetooth",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 960,
        "y": 1020,
        "wires": []
    },
    {
        "id": "8e3bb2d96c6c3e73",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "props": [
            {
                "p": "payload.x",
                "v": "118",
                "vt": "num"
            },
            {
                "p": "payload.y",
                "v": "0",
                "vt": "num"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 740,
        "y": 1020,
        "wires": [
            [
                "f147d4803529bcad"
            ]
        ]
    },
    {
        "id": "74052b3ed0a23627",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "OledImage false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.2",
        "topic": "",
        "payload": "{\"image\":\"Oledrpi32x32.png\",\"x\":481,\"y\":0,\"clear\":false,\"animated\":false,\"reset\":false}",
        "payloadType": "json",
        "x": 300,
        "y": 1060,
        "wires": [
            [
                "3e27ef798fbb72e7"
            ]
        ]
    },
    {
        "id": "3e27ef798fbb72e7",
        "type": "Image",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "",
        "display": "9a288fe6eaa83734",
        "x": 520,
        "y": 1060,
        "wires": []
    },
    {
        "id": "1002292268b279b5",
        "type": "change",
        "z": "bf0b31ad452185bc",
        "g": "36177ecb99d80bd9",
        "name": "logo",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "{\"image\":\"yahabommlogo-2-128x20.png\",\"x\":0,\"y\":25,\"clear\":true}",
                "tot": "json"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 160,
        "y": 1000,
        "wires": [
            []
        ]
    },
    {
        "id": "d67d10793d38b57c",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "98940108442a8f1c",
        "name": "On",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 150,
        "y": 1600,
        "wires": [
            [
                "58fd2a05fa1c94bc"
            ]
        ]
    },
    {
        "id": "9dfd31adbca7b84b",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "98940108442a8f1c",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 150,
        "y": 1640,
        "wires": [
            [
                "58fd2a05fa1c94bc"
            ]
        ]
    },
    {
        "id": "58fd2a05fa1c94bc",
        "type": "rpi-gpio out",
        "z": "bf0b31ad452185bc",
        "g": "98940108442a8f1c",
        "name": "25",
        "pin": "25",
        "set": "",
        "level": "0",
        "freq": "5",
        "out": "out",
        "bcm": true,
        "x": 410,
        "y": 1600,
        "wires": []
    },
    {
        "id": "4b6ed5b6dfa4b843",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "5461aaca4563f9a9",
        "name": "On",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 610,
        "y": 1640,
        "wires": [
            [
                "8e75426405b6bf4f"
            ]
        ]
    },
    {
        "id": "e8574edd8dd83504",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "5461aaca4563f9a9",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 610,
        "y": 1680,
        "wires": [
            [
                "8e75426405b6bf4f"
            ]
        ]
    },
    {
        "id": "8e75426405b6bf4f",
        "type": "rpi-gpio out",
        "z": "bf0b31ad452185bc",
        "g": "5461aaca4563f9a9",
        "name": "17",
        "pin": "17",
        "set": "",
        "level": "0",
        "freq": "1350",
        "out": "out",
        "bcm": true,
        "x": 930,
        "y": 1640,
        "wires": []
    },
    {
        "id": "59e468a73bff55db",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "77766d5684615c70",
        "name": "On",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 610,
        "y": 1200,
        "wires": [
            [
                "e41b33c82eb7b1df"
            ]
        ]
    },
    {
        "id": "a86ae3c4f841ae3a",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "77766d5684615c70",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 610,
        "y": 1260,
        "wires": [
            [
                "e41b33c82eb7b1df"
            ]
        ]
    },
    {
        "id": "e41b33c82eb7b1df",
        "type": "rpi-gpio out",
        "z": "bf0b31ad452185bc",
        "g": "77766d5684615c70",
        "name": "24",
        "pin": "24",
        "set": "",
        "level": "0",
        "freq": "1350",
        "out": "out",
        "bcm": true,
        "x": 930,
        "y": 1200,
        "wires": []
    },
    {
        "id": "05679acbcd9b65c8",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "77766d5684615c70",
        "name": "On",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 610,
        "y": 1320,
        "wires": [
            [
                "e17cab92eef88b85"
            ]
        ]
    },
    {
        "id": "2372e551c2e1ce8e",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "77766d5684615c70",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 610,
        "y": 1380,
        "wires": [
            [
                "e17cab92eef88b85"
            ]
        ]
    },
    {
        "id": "e17cab92eef88b85",
        "type": "rpi-gpio out",
        "z": "bf0b31ad452185bc",
        "g": "77766d5684615c70",
        "name": "22",
        "pin": "22",
        "set": "",
        "level": "0",
        "freq": "1350",
        "out": "out",
        "bcm": true,
        "x": 930,
        "y": 1320,
        "wires": []
    },
    {
        "id": "0ed8bbf5b201d370",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "3cb74d78c4a5fa1b",
        "name": "On",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 150,
        "y": 1200,
        "wires": [
            [
                "c16df44460b6c29b"
            ]
        ]
    },
    {
        "id": "f1971fdedde001af",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "3cb74d78c4a5fa1b",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 150,
        "y": 1260,
        "wires": [
            [
                "c16df44460b6c29b"
            ]
        ]
    },
    {
        "id": "c16df44460b6c29b",
        "type": "rpi-gpio out",
        "z": "bf0b31ad452185bc",
        "g": "3cb74d78c4a5fa1b",
        "name": "26",
        "pin": "26",
        "set": "",
        "level": "0",
        "freq": "1350",
        "out": "out",
        "bcm": true,
        "x": 410,
        "y": 1200,
        "wires": []
    },
    {
        "id": "f0e78077cacab31b",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "3cb74d78c4a5fa1b",
        "name": "On",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 150,
        "y": 1320,
        "wires": [
            [
                "98281e8b1398483e"
            ]
        ]
    },
    {
        "id": "e48a5bbefa741e23",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "3cb74d78c4a5fa1b",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 150,
        "y": 1380,
        "wires": [
            [
                "98281e8b1398483e"
            ]
        ]
    },
    {
        "id": "98281e8b1398483e",
        "type": "rpi-gpio out",
        "z": "bf0b31ad452185bc",
        "g": "3cb74d78c4a5fa1b",
        "name": "20",
        "pin": "20",
        "set": "",
        "level": "0",
        "freq": "1350",
        "out": "out",
        "bcm": true,
        "x": 410,
        "y": 1320,
        "wires": []
    },
    {
        "id": "1b655240e4538349",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "3cb74d78c4a5fa1b",
        "name": "On",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 150,
        "y": 1440,
        "wires": [
            [
                "3d1825b746991acd"
            ]
        ]
    },
    {
        "id": "53fcd1f3c05522d6",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "3cb74d78c4a5fa1b",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 150,
        "y": 1500,
        "wires": [
            [
                "3d1825b746991acd"
            ]
        ]
    },
    {
        "id": "3d1825b746991acd",
        "type": "rpi-gpio out",
        "z": "bf0b31ad452185bc",
        "g": "3cb74d78c4a5fa1b",
        "name": "21",
        "pin": "21",
        "set": "",
        "level": "0",
        "freq": "1350",
        "out": "out",
        "bcm": true,
        "x": 410,
        "y": 1440,
        "wires": []
    },
    {
        "id": "a143056ad68883fa",
        "type": "link in",
        "z": "bf0b31ad452185bc",
        "g": "98940108442a8f1c",
        "name": "GPIO25 контроль кулера",
        "links": [
            "4d93266a54714547"
        ],
        "x": 285,
        "y": 1680,
        "wires": [
            [
                "58fd2a05fa1c94bc"
            ]
        ]
    },
    {
        "id": "c6c6091668bce197",
        "type": "link out",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "Wifi level",
        "mode": "link",
        "links": [
            "6241a90d8044b682"
        ],
        "x": 755,
        "y": 660,
        "wires": []
    },
    {
        "id": "f2837e308c3922cc",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "On",
        "props": [],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 1940,
        "wires": [
            [
                "d2ffb3afa2b15794"
            ]
        ]
    },
    {
        "id": "58372f90ec9ddbe4",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "100",
        "payloadType": "num",
        "x": 690,
        "y": 1840,
        "wires": [
            [
                "a49ae0c431ad6c2e"
            ]
        ]
    },
    {
        "id": "a49ae0c431ad6c2e",
        "type": "rpi-gpio out",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "Buzzer",
        "pin": "18",
        "set": "",
        "level": "0",
        "freq": "1050",
        "out": "pwm",
        "bcm": true,
        "x": 940,
        "y": 1860,
        "wires": []
    },
    {
        "id": "80ce4a409e2f203a",
        "type": "delay",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "300 ms",
        "pauseType": "delay",
        "timeout": "300",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 660,
        "y": 1900,
        "wires": [
            [
                "4b8076688ac53b6c"
            ]
        ]
    },
    {
        "id": "4b8076688ac53b6c",
        "type": "change",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "OFF",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "100",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 1900,
        "wires": [
            [
                "a49ae0c431ad6c2e",
                "f67bca626a8f6de2"
            ]
        ]
    },
    {
        "id": "f67bca626a8f6de2",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "for 1..3",
        "func": "if (Number(msg.topic) < 3)\n    msg.topic = Number(msg.topic) + 1;\nelse \n    return [null, msg];\nreturn [msg, null];",
        "outputs": 2,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1960,
        "wires": [
            [
                "cda33c67d2f339c8"
            ],
            []
        ],
        "outputLabels": [
            "на повтор цикла",
            "в пустоту"
        ]
    },
    {
        "id": "f0b06bc2e7b555c4",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "ON",
        "func": "msg.payload = 99;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 1860,
        "wires": [
            [
                "a49ae0c431ad6c2e",
                "80ce4a409e2f203a"
            ]
        ]
    },
    {
        "id": "cda33c67d2f339c8",
        "type": "delay",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "200 ms",
        "pauseType": "delay",
        "timeout": "200",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 500,
        "y": 1960,
        "wires": [
            [
                "f0b06bc2e7b555c4"
            ]
        ]
    },
    {
        "id": "d2ffb3afa2b15794",
        "type": "change",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "start",
        "rules": [
            {
                "t": "set",
                "p": "topic",
                "pt": "msg",
                "to": "1",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 350,
        "y": 1860,
        "wires": [
            [
                "f0b06bc2e7b555c4"
            ]
        ]
    },
    {
        "id": "75e6d58fc1960be3",
        "type": "link in",
        "z": "bf0b31ad452185bc",
        "g": "cc096943a2c5d28c",
        "name": "buzzer 3",
        "links": [
            "bc304590379edb15"
        ],
        "x": 235,
        "y": 1860,
        "wires": [
            [
                "d2ffb3afa2b15794"
            ]
        ]
    },
    {
        "id": "e3c19435dc69006c",
        "type": "switch",
        "z": "bf0b31ad452185bc",
        "g": "fc8b947fd3356d48",
        "name": "NoN не пройдет",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "cont",
                "v": "NaN",
                "vt": "str"
            },
            {
                "t": "else"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 190,
        "y": 460,
        "wires": [
            [],
            [
                "3c597635fa7fedd8"
            ]
        ]
    },
    {
        "id": "ce7085e56f5bff4a",
        "type": "link in",
        "z": "bf0b31ad452185bc",
        "g": "5461aaca4563f9a9",
        "name": "for GPIO 17 (reserv)",
        "links": [
            "590e6cae5be947cf"
        ],
        "x": 835,
        "y": 1700,
        "wires": [
            [
                "8e75426405b6bf4f"
            ]
        ]
    },
    {
        "id": "09d5424fa138f4a6",
        "type": "link in",
        "z": "bf0b31ad452185bc",
        "g": "77766d5684615c70",
        "name": "for GPIO 24 (12V)",
        "links": [
            "dd602e441e160e66"
        ],
        "x": 835,
        "y": 1260,
        "wires": [
            [
                "e41b33c82eb7b1df"
            ]
        ]
    },
    {
        "id": "2fbb6a7d93127f87",
        "type": "link in",
        "z": "bf0b31ad452185bc",
        "g": "77766d5684615c70",
        "name": "for GPIO 22 (12V)",
        "links": [
            "9dd4dcce5708657e"
        ],
        "x": 825,
        "y": 1380,
        "wires": [
            [
                "e17cab92eef88b85"
            ]
        ]
    },
    {
        "id": "76aff6253370af19",
        "type": "rpi-gpio in",
        "z": "bf0b31ad452185bc",
        "g": "de455f66c829480c",
        "name": "Button",
        "pin": "23",
        "intype": "up",
        "debounce": "25",
        "read": true,
        "bcm": true,
        "x": 810,
        "y": 60,
        "wires": [
            [
                "7a16be75497c85e1"
            ]
        ]
    },
    {
        "id": "8995df7d3043a58f",
        "type": "debug",
        "z": "bf0b31ad452185bc",
        "g": "de455f66c829480c",
        "name": "debug 40",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 120,
        "wires": []
    },
    {
        "id": "7a16be75497c85e1",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "de455f66c829480c",
        "name": "invertor",
        "func": "msg.payload = msg.payload == 0 ? 1 : 0;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 960,
        "y": 60,
        "wires": [
            [
                "9fed43b1a73587a2"
            ]
        ]
    },
    {
        "id": "9fed43b1a73587a2",
        "type": "function",
        "z": "bf0b31ad452185bc",
        "g": "de455f66c829480c",
        "name": "how long was click",
        "func": "// короткий клик\n\n// длинный клик\nif(msg.payload == 1){\n    flow.set('lastClickDown', new Date().getTime())\n    \n}\n// меньше 300 мс - краткий клик\n// меньше секунды - длинный\n// больше 3 секунд - выключение\nif(msg.payload == 0){\n    \n    var lastDown = new Date(flow.get('lastClickDown'));\n    var now = new Date();\n    var delta = now.getTime() - lastDown.getTime();\n    flow.set('lastClickUp', new Date())\n    msg.delta = delta;\n}\nif (delta <= 300){\n    return [msg, null,null];\n}\nif(delta <= 1000) return [null, msg, null];\n\nif(delta > 3000 && delta < 7000 ) return [null, null , {payload: 1}];\n\nreturn null;",
        "outputs": 3,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 910,
        "y": 180,
        "wires": [
            [
                "8995df7d3043a58f"
            ],
            [
                "6b763fb3678729ee"
            ],
            [
                "e609d19c210b4aae",
                "ab78160770df2079"
            ]
        ],
        "outputLabels": [
            "click",
            "long click",
            "superlong click > 3 секунд"
        ]
    },
    {
        "id": "b8ae39afeaadea52",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "5461aaca4563f9a9",
        "name": "On",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "x": 610,
        "y": 1500,
        "wires": [
            [
                "68683c0f1be47eac"
            ]
        ]
    },
    {
        "id": "a1f10573e3dacf13",
        "type": "inject",
        "z": "bf0b31ad452185bc",
        "g": "5461aaca4563f9a9",
        "name": "off",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "false",
        "payloadType": "bool",
        "x": 610,
        "y": 1540,
        "wires": [
            [
                "68683c0f1be47eac"
            ]
        ]
    },
    {
        "id": "68683c0f1be47eac",
        "type": "rpi-gpio out",
        "z": "bf0b31ad452185bc",
        "g": "5461aaca4563f9a9",
        "name": "27",
        "pin": "27",
        "set": "",
        "level": "0",
        "freq": "1350",
        "out": "out",
        "bcm": true,
        "x": 930,
        "y": 1500,
        "wires": []
    },
    {
        "id": "5cd66dbfb0e5c1d6",
        "type": "link in",
        "z": "bf0b31ad452185bc",
        "g": "5461aaca4563f9a9",
        "name": "for GPIO 27 (30A)",
        "links": [
            "b6f963d84ae742b5"
        ],
        "x": 795,
        "y": 1560,
        "wires": [
            [
                "68683c0f1be47eac"
            ]
        ]
    },
    {
        "id": "e609d19c210b4aae",
        "type": "debug",
        "z": "bf0b31ad452185bc",
        "g": "de455f66c829480c",
        "name": "debug 47",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 200,
        "wires": []
    },
    {
        "id": "6b763fb3678729ee",
        "type": "debug",
        "z": "bf0b31ad452185bc",
        "g": "de455f66c829480c",
        "name": "debug 48",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 160,
        "wires": []
    },
    {
        "id": "ab78160770df2079",
        "type": "link out",
        "z": "bf0b31ad452185bc",
        "g": "de455f66c829480c",
        "name": "to shutdown",
        "mode": "link",
        "links": [
            "658106c7b8100682"
        ],
        "x": 1055,
        "y": 240,
        "wires": []
    },
    {
        "id": "e41c89237b7e0c4c",
        "type": "comment",
        "z": "3e878d680ba10599",
        "g": "0dd769b21efba295",
        "name": "key tg",
        "info": "939009222:AAFj7GRQ7YfinCk6gOtL4mgXQFj5ox8k84Y",
        "x": 250,
        "y": 160,
        "wires": []
    },
    {
        "id": "b9386c0d971b58fe",
        "type": "telegram sender",
        "z": "3e878d680ba10599",
        "g": "0dd769b21efba295",
        "name": "",
        "bot": "e783c52b93d2135d",
        "haserroroutput": true,
        "outputs": 2,
        "x": 790,
        "y": 100,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "75e3eeb166aad582",
        "type": "inject",
        "z": "3e878d680ba10599",
        "g": "0dd769b21efba295",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "Hellow my friend",
        "payload": "Hellow my friend",
        "payloadType": "str",
        "x": 300,
        "y": 100,
        "wires": [
            [
                "ae71987044a80cf0"
            ]
        ]
    },
    {
        "id": "ae71987044a80cf0",
        "type": "function",
        "z": "3e878d680ba10599",
        "g": "0dd769b21efba295",
        "name": "sent Text",
        "func": "msg.payload = \n{\n    chatId :420515519, \n    type : 'message', \n    content : msg.payload\n};\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 100,
        "wires": [
            [
                "b9386c0d971b58fe"
            ]
        ]
    },
    {
        "id": "3692ce669cc3eccf",
        "type": "link in",
        "z": "3e878d680ba10599",
        "g": "0dd769b21efba295",
        "name": "TG Reader 1",
        "links": [
            "1e2b45a776c1f40b",
            "7866448d7367894f",
            "7976f91d43cad411",
            "bc304590379edb15",
            "5418897502365aa6",
            "8a1eda09ace06dcc",
            "c2cccf012db79019"
        ],
        "x": 465,
        "y": 160,
        "wires": [
            [
                "ae71987044a80cf0"
            ]
        ]
    },
    {
        "id": "69a17e758d2d83f5",
        "type": "link in",
        "z": "3e878d680ba10599",
        "g": "853d69964c76598d",
        "name": "To thinkSpeak 1ch",
        "links": [
            "42781cf5aebb38cc"
        ],
        "x": 155,
        "y": 500,
        "wires": [
            [
                "bc61f244a178f690"
            ]
        ]
    },
    {
        "id": "062dd309a896db02",
        "type": "link in",
        "z": "3e878d680ba10599",
        "g": "853d69964c76598d",
        "name": "To thinkSpeak 2ch",
        "links": [
            "eac209c032de65d0"
        ],
        "x": 155,
        "y": 540,
        "wires": [
            [
                "b8ff2b8bcd918826"
            ]
        ]
    },
    {
        "id": "6bc6c1d6d38230af",
        "type": "function",
        "z": "3e878d680ba10599",
        "g": "853d69964c76598d",
        "name": "усредняем и берем раз в N минут",
        "func": "var timeoutSec = 25;\nvar strTopic = msg.topic;\n\nvar summ = flow.get(strTopic + \"ChannelThinkSpeakSum\");\nvar count = flow.get(strTopic + \"ChannelThinkSpeakCount\");\nif (summ == null) {\n    summ = 0;\n    count = 0;\n}\n\nsumm += Number(msg.payload);\ncount++;\n\nvar timeSecNow = parseInt(Date.now() / 1000);\nvar timeLastSend = flow.get(\"LastSendToThingSpeak\");\n\nif(timeLastSend == null){\n    timeLastSend = 0;\n    \n    flow.set(\"LastSendToThingSpeak\", timeSecNow);\n}\nvar lastSendChannel = flow.get(\"LastChannel\");\nif (lastSendChannel == null){\n    lastSendChannel = msg.topic;\n    flow.set(\"LastChannel\", msg.topic);\n}\n\nif ((timeSecNow - timeLastSend) > timeoutSec && count > 0 && msg.topic != lastSendChannel){\n    msg.payload = (summ / count).toFixed(2);\n    flow.set(\"LastSendToThingSpeak\", timeSecNow);\n    flow.set(\"LastChannel\", msg.topic);\n    count = 0;\n    summ = 0;\n}\nelse {\n    msg = null;\n}\n\nflow.set(strTopic + \"ChannelThinkSpeakSum\", summ);\nflow.set(strTopic + \"ChannelThinkSpeakCount\", count);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 530,
        "y": 520,
        "wires": [
            [
                "36933cd8072359bf"
            ]
        ]
    },
    {
        "id": "bc61f244a178f690",
        "type": "function",
        "z": "3e878d680ba10599",
        "g": "853d69964c76598d",
        "name": "set topic 1",
        "func": "msg.topic = 1;\nmsg.payload = msg.value;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 500,
        "wires": [
            [
                "6bc6c1d6d38230af"
            ]
        ]
    },
    {
        "id": "b8ff2b8bcd918826",
        "type": "function",
        "z": "3e878d680ba10599",
        "g": "853d69964c76598d",
        "name": "set topic 2",
        "func": "msg.topic = 2;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 260,
        "y": 540,
        "wires": [
            [
                "6bc6c1d6d38230af"
            ]
        ]
    },
    {
        "id": "36933cd8072359bf",
        "type": "thingspeak42",
        "z": "3e878d680ba10599",
        "g": "853d69964c76598d",
        "name": "",
        "delay": "75",
        "topic1": "1",
        "topic2": "2",
        "topic3": "",
        "topic4": "",
        "topic5": "",
        "topic6": "",
        "topic7": "",
        "topic8": "",
        "endpoint": "https://thingspeak.com",
        "x": 820,
        "y": 500,
        "wires": []
    },
    {
        "id": "eeb3635ca7202321",
        "type": "comment",
        "z": "3e878d680ba10599",
        "g": "853d69964c76598d",
        "name": "С датчиков прилетают за 10-12 сек. апроксимируются f(x) и улетают на сервер раз в 75сек",
        "info": "",
        "x": 490,
        "y": 460,
        "wires": []
    },
    {
        "id": "953d517342f82f92",
        "type": "telegram command",
        "z": "3e878d680ba10599",
        "g": "57efb6f1f6363fdf",
        "name": "from /temperature",
        "command": "/temperature",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "e783c52b93d2135d",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 230,
        "y": 260,
        "wires": [
            [
                "285fcec90987a68c"
            ],
            []
        ]
    },
    {
        "id": "818be7890e62ee93",
        "type": "telegram sender",
        "z": "3e878d680ba10599",
        "g": "57efb6f1f6363fdf",
        "name": "Send result",
        "bot": "e783c52b93d2135d",
        "haserroroutput": false,
        "outputs": 1,
        "x": 870,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "285fcec90987a68c",
        "type": "function",
        "z": "3e878d680ba10599",
        "g": "57efb6f1f6363fdf",
        "name": "load from home/sensors/esp8266Temp1",
        "func": "var result = 'С esp8266 temp1:    ' + Number(global.get('home/sensors/esp8266Temp1', 'file')).toFixed(2) + '°';\n\nvar sum1 = flow.get(\"1ChannelThinkSpeakSum\");\nvar count1 = flow.get(\"1ChannelThinkSpeakCount\");\nif (count1 != null && count1 != undefined)\n    result += '\\nDallas (в кубе):         ' + Number(sum1 / count1).toFixed(2) + '°';\n\nvar sum2 = flow.get(\"2ChannelThinkSpeakSum\");\nvar count2 = flow.get(\"2ChannelThinkSpeakCount\");\n\nif (count1 != null && count2 != undefined)\n    result += '\\nA0 (в Узле отбора): ' + Number(sum2 / count2).toFixed(2) + '°';\n\nmsg.payload.content = result;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 580,
        "y": 260,
        "wires": [
            [
                "818be7890e62ee93"
            ]
        ]
    },
    {
        "id": "3d87fef6dc423b14",
        "type": "telegram command",
        "z": "3e878d680ba10599",
        "g": "4fee59c3e4b3a927",
        "name": "from /status",
        "command": "/status",
        "description": "",
        "registercommand": false,
        "language": "",
        "scope": "default",
        "bot": "e783c52b93d2135d",
        "strict": false,
        "hasresponse": true,
        "useregex": false,
        "removeregexcommand": false,
        "outputs": 2,
        "x": 210,
        "y": 360,
        "wires": [
            [
                "0a9bfe64b822c8d4"
            ],
            []
        ]
    },
    {
        "id": "0a9bfe64b822c8d4",
        "type": "link out",
        "z": "3e878d680ba10599",
        "g": "4fee59c3e4b3a927",
        "name": "get status",
        "mode": "link",
        "links": [
            "d4083f38300a2a23"
        ],
        "x": 365,
        "y": 360,
        "wires": []
    },
    {
        "id": "d884c9be53b484f9",
        "type": "http in",
        "z": "e49fdc6477b4b147",
        "name": "",
        "url": "/hello-form",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 160,
        "y": 60,
        "wires": [
            [
                "a3489e30e687daf0"
            ]
        ]
    },
    {
        "id": "3264ea8d83b7ed2d",
        "type": "template",
        "z": "e49fdc6477b4b147",
        "name": "page",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "<html>\n    <head></head>\n    <body>\n        <h1>Hello {{ payload.name }}!</h1>\n    </body>\n</html>",
        "x": 930,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "5896c36e01b97596",
        "type": "http response",
        "z": "e49fdc6477b4b147",
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 570,
        "y": 60,
        "wires": []
    },
    {
        "id": "a4ea2aa6af78ba4e",
        "type": "http in",
        "z": "e49fdc6477b4b147",
        "name": "",
        "url": "/hi",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 730,
        "y": 60,
        "wires": [
            [
                "3264ea8d83b7ed2d"
            ]
        ]
    },
    {
        "id": "a3489e30e687daf0",
        "type": "http request",
        "z": "e49fdc6477b4b147",
        "name": "",
        "method": "GET",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "https://api.openweathermap.org/data/2.5/weather?units=metric&lat=59.9473&lon=31.03845&appid=9646f22ded036b4a938a2e44dfcba412&mode=html&lang=RU",
        "tls": "",
        "persist": false,
        "proxy": "",
        "insecureHTTPParser": false,
        "authType": "",
        "senderr": false,
        "headers": [],
        "x": 370,
        "y": 60,
        "wires": [
            []
        ]
    },
    {
        "id": "486effd602df0487",
        "type": "ui_form",
        "z": "e49fdc6477b4b147",
        "name": "",
        "label": "текст для озвучки",
        "group": "840f55649a14afa5",
        "order": 3,
        "width": 0,
        "height": 0,
        "options": [
            {
                "label": "",
                "value": "textForSpeach",
                "type": "text",
                "required": true,
                "rows": null
            }
        ],
        "formValue": {
            "textForSpeach": ""
        },
        "payload": "",
        "submit": "озвучить",
        "cancel": "ХЗ что это",
        "topic": "topic",
        "topicType": "msg",
        "splitLayout": "",
        "className": "",
        "x": 170,
        "y": 120,
        "wires": [
            [
                "edfcdce3d8904d45"
            ]
        ]
    },
    {
        "id": "a1b3c8bf1d994d47",
        "type": "link out",
        "z": "e49fdc6477b4b147",
        "name": "link out from form 1",
        "mode": "link",
        "links": [
            "a37412cc2382df3b"
        ],
        "x": 515,
        "y": 120,
        "wires": []
    },
    {
        "id": "edfcdce3d8904d45",
        "type": "change",
        "z": "e49fdc6477b4b147",
        "name": "только спитч",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "payload.textForSpeach",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 120,
        "wires": [
            [
                "a1b3c8bf1d994d47"
            ]
        ]
    },
    {
        "id": "0ab49f24b3c7d6f6",
        "type": "inject",
        "z": "e49fdc6477b4b147",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 340,
        "wires": [
            [
                "5c29ed76eee79de1"
            ]
        ]
    },
    {
        "id": "5c29ed76eee79de1",
        "type": "trigger",
        "z": "e49fdc6477b4b147",
        "d": true,
        "name": "",
        "op1": "{\"ip\":\"192.168.1.222\",\"port\":\"1880\",\"url\":\"hhtp://192.168.1.222:1880/mp3\",\"contentType\":\"audio/mp3\",\"volume\":50}",
        "op2": "",
        "op1type": "json",
        "op2type": "nul",
        "duration": "250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 380,
        "y": 340,
        "wires": [
            [
                "0fcc8ac3d1f92a2f"
            ]
        ]
    },
    {
        "id": "0fcc8ac3d1f92a2f",
        "type": "cast-to-client",
        "z": "e49fdc6477b4b147",
        "d": true,
        "name": "",
        "url": "",
        "contentType": "",
        "message": "Hello, people!",
        "language": "en",
        "ip": "",
        "port": "1880",
        "volume": "50",
        "x": 610,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "628c2102bea6ebd5",
        "type": "http in",
        "z": "e49fdc6477b4b147",
        "d": true,
        "name": "",
        "url": "/mp3",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 140,
        "y": 300,
        "wires": [
            [
                "7da60749fa2064c0"
            ]
        ]
    },
    {
        "id": "37a7c863dd58ddf7",
        "type": "http response",
        "z": "e49fdc6477b4b147",
        "d": true,
        "name": "",
        "statusCode": "",
        "headers": {},
        "x": 590,
        "y": 300,
        "wires": []
    },
    {
        "id": "7da60749fa2064c0",
        "type": "file in",
        "z": "e49fdc6477b4b147",
        "d": true,
        "name": "game over",
        "filename": "https://vgmsite.com/soundtracks/super-mario-bros-2/xdmvugfwqn/14%20Game%20Over.mp3",
        "filenameType": "str",
        "format": "",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 370,
        "y": 300,
        "wires": [
            [
                "37a7c863dd58ddf7"
            ]
        ]
    },
    {
        "id": "2df087ea97659a3d",
        "type": "inject",
        "z": "e49fdc6477b4b147",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 670,
        "y": 120,
        "wires": [
            [
                "a9b2e6672d26294d"
            ]
        ]
    },
    {
        "id": "a9b2e6672d26294d",
        "type": "ui_template",
        "z": "e49fdc6477b4b147",
        "group": "840f55649a14afa5",
        "name": "суперкнопка",
        "order": 9,
        "width": 0,
        "height": 0,
        "format": "<md-button class=\"vibrate filled touched bigfont rounded\" style=\"background-color:#333333\"\n    ng-click=\"send({payload: msg.payload })\">\n<svg width=\"260px\" height=\"90px\" version=\"1.1\" viewBox=\"0 0 800 200\">\n    <g id=\"Button_Long\">\n\n        <rect fill=\"#333333\" width=\"800\" height=\"200\" />\n        <g ng-style=\"{fill: (msg.payload || 0) ? 'lime' : 'red'}\">\n            <rect width=\"800\" height=\"200\" rx=\"80\" ry=\"80\" />\n        </g>\n\n        <rect fill=\"#333333\" x=\"11\" y=\"10\" width=\"778\" height=\"180\" rx=\"90\" ry=\"90\" />\n        <g ng-style=\"{fill: (msg.payload || 0) ? 'lime' : 'red'}\">\n\n            <text x=\"400\" y=\"125\" style=\"text-anchor:middle\" font-weight=\"bold\" font-size=\"80\"\n                font-family=\"Arial\">{{(msg.payload||0)? \" OPEN \" : \"CLOSED\"}} </text>\n        </g>\n    </g>\n</svg>\n\n</md-button>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 870,
        "y": 120,
        "wires": [
            [
                "8ab987208b3ae725"
            ]
        ]
    },
    {
        "id": "6717a2da.fcd2ec",
        "type": "debug",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 780,
        "wires": []
    },
    {
        "id": "7382ac40.df0f54",
        "type": "dynamic thermostat",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "",
        "x": 550,
        "y": 720,
        "wires": [
            [
                "6717a2da.fcd2ec",
                "d01f6e673ae030fb"
            ]
        ]
    },
    {
        "id": "32d954d9617f30da",
        "type": "comment",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "работает на подогрев. при температуре около гистерезиса вокруг целевого onoff возвращает null",
        "info": "",
        "x": 470,
        "y": 460,
        "wires": []
    },
    {
        "id": "b61e2ebfd8b7f84f",
        "type": "comment",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "при установке switch - работает в нужном режиме on Или off, чтобы включить авто устанавливаем switch null",
        "info": "",
        "x": 500,
        "y": 500,
        "wires": []
    },
    {
        "id": "07cd6f0f7732b8ba",
        "type": "comment",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "чтобы прикрутить к моему [от : до] делим диапазон пополам , ставим середину = current , и дельту/2 как гистерезис.",
        "info": "",
        "x": 530,
        "y": 540,
        "wires": []
    },
    {
        "id": "9b96d85f385ed833",
        "type": "inject",
        "z": "e49fdc6477b4b147",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 180,
        "wires": [
            [
                "10944bb8efd81c13"
            ]
        ]
    },
    {
        "id": "880e9911cef78ca3",
        "type": "ui_template",
        "z": "e49fdc6477b4b147",
        "d": true,
        "group": "840f55649a14afa5",
        "name": "",
        "order": 2,
        "width": 0,
        "height": 0,
        "format": "<div layout=\"row\" layout-align=\"start center\">\n    <span flex>RPM Min</span>\n    <span flex>RPM Max</span>\n    <span flex>Failure Prob</span>\n    <span flex>Machine type</span>\n</div>\n<div layout=\"row\" layout-align=\"start center\" ng-repeat=\"machine in msg.payload.factory\">\n    <span flex style=\"color: green\">{{machine.min}}</span>\n    <span flex style=\"color: red\">{{machine.max}}</span>\n    <span flex style=\"color: black\">{{machine.failProb}}%</span>\n    <span flex style=\"color: black\">{{machine.name}}</span>\n</div>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 960,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "15c134962d7d6082",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "name": "function 5",
        "func": "var min = Math.round(Math.random() * 1000);\nvar max = Math.round((Math.random() * 10000) + 1000);\n\nmsg.payload = {\n    data: {\n        machine00: {\n            min: min,\n            max: max,\n            failProb: 20,\n            name: \"GE 5200\"\n        },\n        machine01: {\n            min: min * 5,\n            max: max * 2,\n            failProb: 10,\n            name: \"BB SQ100\"\n        }\n    }\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 240,
        "wires": [
            [
                "880e9911cef78ca3",
                "905bf8b5d7e934fb"
            ]
        ]
    },
    {
        "id": "e86fe7da0b585bb8",
        "type": "inject",
        "z": "e49fdc6477b4b147",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 520,
        "y": 240,
        "wires": [
            [
                "15c134962d7d6082"
            ]
        ]
    },
    {
        "id": "27a4541d4c1678da",
        "type": "ui_chart",
        "z": "e49fdc6477b4b147",
        "name": "",
        "group": "840f55649a14afa5",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "bezier",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "60",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#e9afc3",
            "#0fff57",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 670,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "10944bb8efd81c13",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "name": "Join Data",
        "func": "var tempc = Math.round(Math.random() * 1000);\nvar humidity = Math.round((Math.random() * 1000) + 1000);\nvar windspeed = Math.round(Math.random() * 1000);\nvar data = [\n    {\n        series: ['tempc', 'humidity', 'windspeed'],\n        data: [\n            [tempc],\n            [humidity],\n            [windspeed],\n        ],\n        labels: ['tempc', 'humidity', 'windspeed'],\n    },\n];\n\nmsg.payload = data;\n\nreturn [{ payload: tempc, topic: \"temp\"},\n    { payload: humidity, topic: \"humidit\" },\n    { payload: windspeed, topic: \"windspeed\" }];",
        "outputs": 3,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 420,
        "y": 180,
        "wires": [
            [
                "27a4541d4c1678da"
            ],
            [
                "27a4541d4c1678da"
            ],
            [
                "27a4541d4c1678da"
            ]
        ]
    },
    {
        "id": "c589e2c0f39d80a7",
        "type": "ui_chart",
        "z": "e49fdc6477b4b147",
        "name": "",
        "group": "bf8e3a22ec139fc3",
        "order": 10,
        "width": 0,
        "height": 0,
        "label": "chart",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 1010,
        "y": 280,
        "wires": [
            [
                "210f6d6b774ca8d1"
            ]
        ]
    },
    {
        "id": "210f6d6b774ca8d1",
        "type": "debug",
        "z": "e49fdc6477b4b147",
        "name": "debug 41",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1220,
        "y": 300,
        "wires": []
    },
    {
        "id": "905bf8b5d7e934fb",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "name": "function 7",
        "func": "var temp = msg.payload;\n//var temp=[];\nvar wind=[];\nvar p=global.get('points');\n\nvar tempchart = [{\n    \"series\":[\"Temperature\"],\n        \"data\":[temp],\n    \"labels\":[\"Temp\"],\n}];\nvar windchart = [{\n    \"series\":[\"WindSpeed\"],\n        \"data\":[wind],\n    \"labels\":[\"\"],\n}];\nvar msg={};\nvar msg1={};\nmsg.payload=tempchart;\nmsg.topic='Temperature';\nmsg1.payload=windchart;\nmsg1.topic='WindSpeed';\nnode.send([[msg,msg1]]);",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 860,
        "y": 300,
        "wires": [
            [
                "c589e2c0f39d80a7",
                "210f6d6b774ca8d1"
            ]
        ]
    },
    {
        "id": "8ab987208b3ae725",
        "type": "debug",
        "z": "e49fdc6477b4b147",
        "name": "debug 42",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1080,
        "y": 120,
        "wires": []
    },
    {
        "id": "d30e1d977342f1ce",
        "type": "ui_multistate_switch",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "",
        "group": "917cb1f3cd0f427e",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "авто.",
                "value": "NaN",
                "valueType": "str",
                "color": "#009933"
            },
            {
                "label": "вкл. ",
                "value": "true",
                "valueType": "bool",
                "color": "#999999"
            },
            {
                "label": "выкл.",
                "value": "false",
                "valueType": "bool",
                "color": "#ff6666"
            }
        ],
        "topic": "switch",
        "x": 240,
        "y": 660,
        "wires": [
            [
                "7382ac40.df0f54"
            ]
        ]
    },
    {
        "id": "94170e5835d261b4",
        "type": "ui_slider",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "",
        "label": "max",
        "tooltip": "",
        "group": "917cb1f3cd0f427e",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "target",
        "topicType": "str",
        "min": 0,
        "max": "50",
        "step": 1,
        "className": "",
        "x": 210,
        "y": 600,
        "wires": [
            [
                "7382ac40.df0f54",
                "b3ffed9824a99d34"
            ]
        ]
    },
    {
        "id": "80dac428ab052ea5",
        "type": "ui_text",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "group": "917cb1f3cd0f427e",
        "order": 2,
        "width": "1",
        "height": "1",
        "name": "txt target",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 540,
        "y": 600,
        "wires": []
    },
    {
        "id": "9d3ba3378df7089d",
        "type": "ui_slider",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "",
        "label": "curr",
        "tooltip": "",
        "group": "917cb1f3cd0f427e",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "current",
        "topicType": "str",
        "min": 0,
        "max": "50",
        "step": 1,
        "className": "",
        "x": 170,
        "y": 760,
        "wires": [
            [
                "7382ac40.df0f54",
                "85b175c7541a8491"
            ]
        ]
    },
    {
        "id": "85b175c7541a8491",
        "type": "ui_text",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "group": "917cb1f3cd0f427e",
        "order": 2,
        "width": "1",
        "height": "1",
        "name": "txt current",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 320,
        "y": 700,
        "wires": []
    },
    {
        "id": "b31f63fab744526f",
        "type": "ui_slider",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "",
        "label": "min",
        "tooltip": "",
        "group": "917cb1f3cd0f427e",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "hysteresis",
        "topicType": "str",
        "min": 0,
        "max": "50",
        "step": "0.1",
        "className": "",
        "x": 150,
        "y": 820,
        "wires": [
            [
                "8823408561d45455",
                "9e3d325ddb6b7cba"
            ]
        ]
    },
    {
        "id": "8823408561d45455",
        "type": "ui_text",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "group": "917cb1f3cd0f427e",
        "order": 2,
        "width": "1",
        "height": "1",
        "name": "txt hysteresis",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 490,
        "y": 820,
        "wires": []
    },
    {
        "id": "6b8322e1b3081f60",
        "type": "ui_led",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "order": 7,
        "group": "917cb1f3cd0f427e",
        "width": 0,
        "height": 0,
        "label": "Результат работы термостата",
        "labelPlacement": "left",
        "labelAlignment": "right",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "#0000ff",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 970,
        "y": 660,
        "wires": []
    },
    {
        "id": "d01f6e673ae030fb",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "get OnOff",
        "func": "return msg.payload.onoff == null \n        ? null \n        : {payload: msg.payload.onoff }; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 720,
        "y": 680,
        "wires": [
            [
                "c90e16b038fcd759"
            ]
        ]
    },
    {
        "id": "9e3d325ddb6b7cba",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "get hysteresis",
        "func": "msg.payload = Number(flow.get(\"maxT\")) - msg.payload\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 380,
        "y": 780,
        "wires": [
            [
                "7382ac40.df0f54"
            ]
        ]
    },
    {
        "id": "b3ffed9824a99d34",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "Save",
        "func": "flow.set(\"maxT\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 600,
        "wires": [
            [
                "80dac428ab052ea5"
            ]
        ]
    },
    {
        "id": "c90e16b038fcd759",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "g": "21b5a7b5908d2ce9",
        "name": "invert",
        "func": "msg.payload = !msg.payload\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 600,
        "wires": [
            [
                "6b8322e1b3081f60"
            ]
        ]
    },
    {
        "id": "2ce9942687483cee",
        "type": "debug",
        "z": "e49fdc6477b4b147",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 1060,
        "wires": []
    },
    {
        "id": "8fd82ae3473857cc",
        "type": "dynamic thermostat",
        "z": "e49fdc6477b4b147",
        "name": "",
        "x": 510,
        "y": 1060,
        "wires": [
            [
                "2ce9942687483cee",
                "818f15af5386812f"
            ]
        ]
    },
    {
        "id": "614f2558bcc12f61",
        "type": "ui_multistate_switch",
        "z": "e49fdc6477b4b147",
        "name": "",
        "group": "ed794f0766c95ca8",
        "order": 8,
        "width": 0,
        "height": 1,
        "label": "Режим работы",
        "stateField": "payload",
        "enableField": "enable",
        "passthroughField": "passthrough",
        "inputMsgField": "inputmsg",
        "rounded": false,
        "useThemeColors": true,
        "hideSelectedLabel": false,
        "multilineLabel": false,
        "passThrough": "never",
        "inputMsg": "all",
        "userInput": "enabled_show",
        "options": [
            {
                "label": "авто.",
                "value": "NaN",
                "valueType": "str",
                "color": "#009933"
            },
            {
                "label": "вкл. ",
                "value": "true",
                "valueType": "bool",
                "color": "#999999"
            },
            {
                "label": "выкл.",
                "value": "false",
                "valueType": "bool",
                "color": "#ff6666"
            }
        ],
        "topic": "switch",
        "x": 240,
        "y": 1000,
        "wires": [
            [
                "8fd82ae3473857cc"
            ]
        ]
    },
    {
        "id": "5f5857c5aa9f8005",
        "type": "ui_slider",
        "z": "e49fdc6477b4b147",
        "name": "",
        "label": "max",
        "tooltip": "",
        "group": "ed794f0766c95ca8",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "target",
        "topicType": "str",
        "min": 0,
        "max": "50",
        "step": 1,
        "className": "",
        "x": 210,
        "y": 940,
        "wires": [
            [
                "8fd82ae3473857cc",
                "6e4794a1a4a0f17c"
            ]
        ]
    },
    {
        "id": "5fbdc981cedd2f80",
        "type": "ui_text",
        "z": "e49fdc6477b4b147",
        "group": "ed794f0766c95ca8",
        "order": 2,
        "width": "1",
        "height": "1",
        "name": "txt target",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 540,
        "y": 940,
        "wires": []
    },
    {
        "id": "343878d96d89971c",
        "type": "ui_slider",
        "z": "e49fdc6477b4b147",
        "name": "",
        "label": "curr",
        "tooltip": "",
        "group": "ed794f0766c95ca8",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "current",
        "topicType": "str",
        "min": 0,
        "max": "50",
        "step": 1,
        "className": "",
        "x": 170,
        "y": 1100,
        "wires": [
            [
                "8fd82ae3473857cc",
                "32b70fc925b879cd"
            ]
        ]
    },
    {
        "id": "32b70fc925b879cd",
        "type": "ui_text",
        "z": "e49fdc6477b4b147",
        "group": "ed794f0766c95ca8",
        "order": 2,
        "width": "1",
        "height": "1",
        "name": "txt current",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 320,
        "y": 1040,
        "wires": []
    },
    {
        "id": "31df954b51ad69af",
        "type": "ui_slider",
        "z": "e49fdc6477b4b147",
        "name": "",
        "label": "min",
        "tooltip": "",
        "group": "ed794f0766c95ca8",
        "order": 1,
        "width": "5",
        "height": "1",
        "passthru": true,
        "outs": "all",
        "topic": "hysteresis",
        "topicType": "str",
        "min": 0,
        "max": "50",
        "step": "0.1",
        "className": "",
        "x": 150,
        "y": 1160,
        "wires": [
            [
                "07e26a5ad06df0a9",
                "9b676870b95e6402"
            ]
        ]
    },
    {
        "id": "07e26a5ad06df0a9",
        "type": "ui_text",
        "z": "e49fdc6477b4b147",
        "group": "ed794f0766c95ca8",
        "order": 2,
        "width": "1",
        "height": "1",
        "name": "txt hysteresis",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 490,
        "y": 1160,
        "wires": []
    },
    {
        "id": "6ea20252c8403fe1",
        "type": "ui_led",
        "z": "e49fdc6477b4b147",
        "order": 7,
        "group": "ed794f0766c95ca8",
        "width": 0,
        "height": 0,
        "label": "Результат работы термостата",
        "labelPlacement": "left",
        "labelAlignment": "right",
        "colorForValue": [
            {
                "color": "#ff0000",
                "value": "true",
                "valueType": "bool"
            },
            {
                "color": "#0000ff",
                "value": "false",
                "valueType": "bool"
            }
        ],
        "allowColorForValueInMessage": false,
        "shape": "circle",
        "showGlow": true,
        "name": "",
        "x": 970,
        "y": 1000,
        "wires": []
    },
    {
        "id": "818f15af5386812f",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "name": "get OnOff",
        "func": "return msg.payload.onoff == null \n        ? null \n        : {payload: msg.payload.onoff }; ",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 1020,
        "wires": [
            [
                "970d9598b9564332"
            ]
        ]
    },
    {
        "id": "9b676870b95e6402",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "name": "get hysteresis",
        "func": "msg.payload = Number(flow.get(\"maxT\")) - msg.payload\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 340,
        "y": 1120,
        "wires": [
            [
                "8fd82ae3473857cc"
            ]
        ]
    },
    {
        "id": "6e4794a1a4a0f17c",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "name": "Save",
        "func": "flow.set(\"maxT\", msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 390,
        "y": 940,
        "wires": [
            [
                "5fbdc981cedd2f80"
            ]
        ]
    },
    {
        "id": "970d9598b9564332",
        "type": "function",
        "z": "e49fdc6477b4b147",
        "name": "invert",
        "func": "msg.payload = !msg.payload\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 1000,
        "wires": [
            [
                "6ea20252c8403fe1"
            ]
        ]
    },
    {
        "id": "3129428bb9e877d5",
        "type": "template",
        "z": "9bdc2ffae08abcfc",
        "d": true,
        "g": "57b8d099c5189fa4",
        "name": "RecalcNTCtoDegree",
        "field": "payload",
        "fieldType": "msg",
        "format": "python",
        "syntax": "plain",
        "template": "import sys\nfrom math import log\n\nif len(sys.argv) > 1:\n    vol = float(sys.argv[1])\n    Bx =3950\n    Ka = 237.15\n    T2 = Ka+25\n    Rp = 10000\n    Rt = (3300-vol)*Rp/vol\n    degree = 1/(log(Rt/Rp)/Bx + 1 / T2) - Ka + 0.5\n    print(round(degree,3))",
        "output": "str",
        "x": 420,
        "y": 200,
        "wires": [
            [
                "f139968f2383ade3"
            ]
        ]
    },
    {
        "id": "f139968f2383ade3",
        "type": "file",
        "z": "9bdc2ffae08abcfc",
        "d": true,
        "g": "57b8d099c5189fa4",
        "name": "",
        "filename": "Templates/ar.py",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 700,
        "y": 173.33333333333334,
        "wires": [
            []
        ]
    },
    {
        "id": "df1587a40dd7af3b",
        "type": "inject",
        "z": "9bdc2ffae08abcfc",
        "d": true,
        "g": "57b8d099c5189fa4",
        "name": "Create",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 200,
        "wires": [
            [
                "3129428bb9e877d5"
            ]
        ]
    },
    {
        "id": "0f5dd276139b36af",
        "type": "template",
        "z": "9bdc2ffae08abcfc",
        "name": "CPU_temp sh",
        "field": "payload",
        "fieldType": "msg",
        "format": "json",
        "syntax": "mustache",
        "template": "vcgencmd measure_temp | egrep -o '[0-9]*\\.[0-9]*'",
        "output": "str",
        "x": 360,
        "y": 300,
        "wires": [
            [
                "d769d844a7ae4c9e"
            ]
        ]
    },
    {
        "id": "67b544ea4520979a",
        "type": "inject",
        "z": "9bdc2ffae08abcfc",
        "name": "Create",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 300,
        "wires": [
            [
                "0f5dd276139b36af"
            ]
        ]
    },
    {
        "id": "d769d844a7ae4c9e",
        "type": "file",
        "z": "9bdc2ffae08abcfc",
        "name": "",
        "filename": "Templates/print_temp.sh",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 630,
        "y": 300,
        "wires": [
            [
                "ff9c2f7b68164d17"
            ]
        ]
    },
    {
        "id": "ff9c2f7b68164d17",
        "type": "exec",
        "z": "9bdc2ffae08abcfc",
        "command": "chmod u+x Templates/print_temp.sh",
        "addpay": false,
        "append": "",
        "useSpawn": "true",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "make Templates/print_temp.sh file executable",
        "x": 280,
        "y": 360,
        "wires": [
            [
                "c8a293eaf6436e76"
            ],
            [
                "c8a293eaf6436e76"
            ],
            [
                "c8a293eaf6436e76"
            ]
        ]
    },
    {
        "id": "c8a293eaf6436e76",
        "type": "debug",
        "z": "9bdc2ffae08abcfc",
        "name": "debug 28",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 400,
        "wires": []
    },
    {
        "id": "b9765866e95f833e",
        "type": "inject",
        "z": "9bdc2ffae08abcfc",
        "name": "Create",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 190,
        "y": 460,
        "wires": [
            [
                "41a5f9ac8fcfd0f1"
            ]
        ]
    },
    {
        "id": "41a5f9ac8fcfd0f1",
        "type": "exec",
        "z": "9bdc2ffae08abcfc",
        "command": "bash Templates/print_temp.sh",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 430,
        "y": 460,
        "wires": [
            [
                "c8a293eaf6436e76"
            ],
            [],
            []
        ]
    },
    {
        "id": "1df3aa5c6d8fdac0",
        "type": "exec",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "command": "chmod u+x Templates/ssd_temp1.sh",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 790,
        "y": 660,
        "wires": [
            [
                "e09ac2aecd3a6ed0"
            ],
            [],
            []
        ]
    },
    {
        "id": "22876b2ba9effa8c",
        "type": "template",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "name": "SSD temp 1",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "sudo smartctl -a /dev/sda | grep 'Temperature Sensor 1:'",
        "output": "str",
        "x": 270,
        "y": 660,
        "wires": [
            [
                "a9fa4f8571503560"
            ]
        ]
    },
    {
        "id": "0a8bc77c5f8e2ba2",
        "type": "comment",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "name": "sudo apt install smartmontools ",
        "info": "для работы монитора температуры sda необходимо установить ",
        "x": 160,
        "y": 620,
        "wires": []
    },
    {
        "id": "c75d80f9492902cc",
        "type": "template",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "name": "SSD temp 2",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "sudo smartctl -a /dev/sda | grep 'Temperature Sensor 2:'",
        "output": "str",
        "x": 270,
        "y": 720,
        "wires": [
            [
                "744f3ba9575a02b5"
            ]
        ]
    },
    {
        "id": "08cb2af1d4bb7c5a",
        "type": "inject",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "name": "Create",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 680,
        "wires": [
            [
                "22876b2ba9effa8c",
                "c75d80f9492902cc"
            ]
        ]
    },
    {
        "id": "a9fa4f8571503560",
        "type": "file",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "name": "",
        "filename": "Templates/ssd_temp1.sh",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 490,
        "y": 660,
        "wires": [
            [
                "1df3aa5c6d8fdac0"
            ]
        ]
    },
    {
        "id": "744f3ba9575a02b5",
        "type": "file",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "name": "",
        "filename": "Templates/ssd_temp2.sh",
        "filenameType": "str",
        "appendNewline": true,
        "createDir": false,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 490,
        "y": 720,
        "wires": [
            [
                "034041a672da4ab0"
            ]
        ]
    },
    {
        "id": "034041a672da4ab0",
        "type": "exec",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "command": "chmod u+x Templates/ssd_temp2.sh",
        "addpay": "",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 790,
        "y": 720,
        "wires": [
            [
                "3f32ff5e2828d057"
            ],
            [],
            []
        ]
    },
    {
        "id": "e09ac2aecd3a6ed0",
        "type": "exec",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "command": "bash Templates/ssd_temp1.sh",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 850,
        "y": 580,
        "wires": [
            [
                "5a65dc0f4ad35ffb"
            ],
            [],
            []
        ]
    },
    {
        "id": "3f32ff5e2828d057",
        "type": "exec",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "command": "bash Templates/ssd_temp2.sh",
        "addpay": "payload",
        "append": "",
        "useSpawn": "false",
        "timer": "",
        "winHide": false,
        "oldrc": false,
        "name": "",
        "x": 870,
        "y": 800,
        "wires": [
            [
                "5a65dc0f4ad35ffb"
            ],
            [],
            []
        ]
    },
    {
        "id": "5a65dc0f4ad35ffb",
        "type": "debug",
        "z": "9bdc2ffae08abcfc",
        "g": "d4d9b1f44c1f430a",
        "name": "debug 29",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1040,
        "y": 680,
        "wires": []
    },
    {
        "id": "bff222604ade187f",
        "type": "comment",
        "z": "9bdc2ffae08abcfc",
        "d": true,
        "g": "57b8d099c5189fa4",
        "name": "Py скрипт перерасчета аналогового значения в температуру",
        "info": "",
        "x": 310,
        "y": 160,
        "wires": []
    },
    {
        "id": "7adf67ff105dea38",
        "type": "comment",
        "z": "9bdc2ffae08abcfc",
        "name": "тестируем запуском bash команды",
        "info": "",
        "x": 220,
        "y": 420,
        "wires": []
    }
]